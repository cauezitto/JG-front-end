{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport * as S from './styles';\nimport Button from 'components/Button';\nimport Heading from 'components/Heading';\nimport Paragraph from 'components/Paragraph';\nimport { CgCloseR } from 'react-icons/cg';\nimport { FiXCircle, FiCheckCircle } from 'react-icons/fi';\nimport { FcCancel } from 'react-icons/fc';\nimport { useState } from 'react';\nimport api from 'services/api';\nimport { useCookies } from 'react-cookie';\n\nvar FriendsList = function FriendsList(props) {\n  var _useCookies = useCookies(['user']),\n      _useCookies2 = _slicedToArray(_useCookies, 2),\n      cookie = _useCookies2[0],\n      setCookie = _useCookies2[1];\n\n  var _props$amigos = props.amigos,\n      amigos = _props$amigos === void 0 ? {\n    autorizados: [],\n    pendentes: []\n  } : _props$amigos;\n\n  var _useState = useState(amigos ? amigos.pendentes : []),\n      pendentes = _useState[0],\n      setPendentes = _useState[1];\n\n  var _useState2 = useState(amigos ? amigos.autorizados : []),\n      autorizados = _useState2[0],\n      setAutorizados = _useState2[1];\n\n  var add = function add(amigo) {\n    setPendentes(pendentes.filter(function (user) {\n      return user.id !== amigo.id;\n    }));\n    setAutorizados([].concat(_toConsumableArray(autorizados), [amigo]));\n  };\n\n  var erase = function erase(amigo) {\n    setPendentes(pendentes.filter(function (user) {\n      return user.id !== amigo.id;\n    }));\n    setAutorizados(autorizados.filter(function (user) {\n      return user.id !== amigo.id;\n    }));\n  };\n\n  var save = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var data;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              data = {\n                amigos: {\n                  autorizados: autorizados,\n                  pendentes: pendentes\n                }\n              };\n              _context.next = 3;\n              return api.put('/favoritos', data, {\n                headers: {\n                  Authorization: \"Bearer \".concat(cookie.token)\n                }\n              }).then(function () {\n                if (props.onClose) {\n                  props.onClose();\n                }\n              });\n\n            case 3:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function save() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/_jsxs(S.Wrapper, {\n    children: [/*#__PURE__*/_jsx(\"div\", {\n      className: \"close\",\n      onClick: props.onClose,\n      children: /*#__PURE__*/_jsx(CgCloseR, {})\n    }), /*#__PURE__*/_jsx(Heading, {\n      font: \"ubuntu\",\n      fontWeight: \"semiBold\",\n      fontSize: \"xlarge\",\n      textAlign: \"center\",\n      justify: \"center\",\n      color: \"black\",\n      role: \"h3\",\n      lineBottom: false,\n      children: \"Acessos a sua lista de favoritos\"\n    }), pendentes[0] && /*#__PURE__*/_jsxs(S.List, {\n      children: [/*#__PURE__*/_jsx(Heading, {\n        color: \"red100\",\n        fontWeight: \"semiBold\",\n        fontSize: \"xlarge\",\n        font: \"ubuntu\",\n        margin: \"10px 0\",\n        lineBottom: false,\n        role: \"h4\",\n        children: \"Pendentes\"\n      }), pendentes.map(function (amigo) {\n        return /*#__PURE__*/_jsxs(S.Item, {\n          children: [/*#__PURE__*/_jsx(S.Photo, {\n            photo: amigo.photo\n          }), /*#__PURE__*/_jsx(\"div\", {\n            className: \"nome\",\n            children: /*#__PURE__*/_jsx(Paragraph, {\n              color: \"black\",\n              fontSize: \"large\",\n              font: \"ubuntu\",\n              fontWeight: \"semiBold\",\n              children: amigo.username.split(' ')[0]\n            })\n          }), /*#__PURE__*/_jsxs(\"div\", {\n            className: \"actions\",\n            children: [/*#__PURE__*/_jsx(FiXCircle, {\n              color: \"red\",\n              size: 20,\n              onClick: function onClick() {\n                erase(amigo);\n              }\n            }), /*#__PURE__*/_jsx(FiCheckCircle, {\n              color: \"green\",\n              size: 20,\n              onClick: function onClick() {\n                add(amigo);\n              }\n            })]\n          })]\n        }, amigo.email);\n      })]\n    }), autorizados[0] && /*#__PURE__*/_jsxs(S.List, {\n      children: [/*#__PURE__*/_jsx(Heading, {\n        color: \"brown\",\n        fontWeight: \"semiBold\",\n        fontSize: \"xlarge\",\n        font: \"ubuntu\",\n        lineBottom: false,\n        role: \"h3\",\n        children: \"Acesso confirmado\"\n      }), autorizados.map(function (amigo) {\n        return /*#__PURE__*/_jsxs(S.Item, {\n          children: [/*#__PURE__*/_jsx(S.Photo, {\n            photo: amigo.photo\n          }), /*#__PURE__*/_jsx(\"div\", {\n            className: \"nome\",\n            children: /*#__PURE__*/_jsx(Paragraph, {\n              color: \"black\",\n              fontSize: \"large\",\n              font: \"ubuntu\",\n              fontWeight: \"semiBold\",\n              children: amigo.username.split(' ')[0]\n            })\n          }), /*#__PURE__*/_jsx(\"div\", {\n            className: \"actions\",\n            children: /*#__PURE__*/_jsx(FcCancel, {\n              color: \"red\",\n              size: 20,\n              onClick: function onClick() {\n                erase(amigo);\n              }\n            })\n          })]\n        }, amigo.email);\n      })]\n    }), /*#__PURE__*/_jsxs(\"div\", {\n      className: \"options\",\n      children: [/*#__PURE__*/_jsx(Button, {\n        onClick: props.onClose,\n        fontSize: \"large\",\n        fill: \"gray300\",\n        children: \"Fechar\"\n      }), /*#__PURE__*/_jsx(Button, {\n        onClick: save,\n        fontSize: \"large\",\n        fill: \"red100\",\n        children: \"Salvar\"\n      })]\n    })]\n  });\n};\n\nexport default FriendsList;","map":null,"metadata":{},"sourceType":"module"}