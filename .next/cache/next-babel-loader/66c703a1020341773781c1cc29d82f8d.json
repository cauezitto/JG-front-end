{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\cauezitto\\\\Documents\\\\projetos\\\\JG\\\\front-end\\\\src\\\\pages\\\\carrinho.tsx\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport PaddingWrapper from 'components/PaddingWrapper';\nimport { HorizontalPaddingWrapper } from 'styles/pages/home';\nimport DefaultTemplate from 'templates/Default';\nimport Heading from 'components/Heading';\nimport ShadowBox from 'components/ShadowBox';\nimport * as Styles from 'styles/pages/carrinho'; // import products from 'mocks/products.json'\n\nimport { useStateContext } from 'context';\nimport QuantController from 'components/QuantController';\nimport priceHandler from 'utils/handlePrice';\nimport { FiHeart } from 'react-icons/fi';\nimport { CgCloseR } from 'react-icons/cg';\nimport GridWrapper from 'components/GridWrapper';\nimport ProductCard from 'components/ProductCard';\nimport Button from 'components/Button';\nimport Input from 'components/Input';\nimport { cepMask } from 'utils/masks';\nimport Link from 'components/Link';\nimport { useState, useEffect } from 'react';\nimport api from 'services/api';\nimport Paragraph from 'components/Paragraph';\nimport { useCookies } from 'react-cookie';\nimport { useRouter } from 'next/router';\n\nvar Carrinho = function Carrinho(_ref) {\n  _s();\n\n  var tier = _ref.tier,\n      _ref$categorias = _ref.categorias,\n      categorias = _ref$categorias === void 0 ? [] : _ref$categorias;\n\n  var _useStateContext = useStateContext(),\n      server = _useStateContext.server,\n      cart = _useStateContext.cart,\n      setCart = _useStateContext.setCart;\n\n  var products = cart.products,\n      total = cart.total;\n\n  var _useState = useState(''),\n      cep = _useState[0],\n      setCep = _useState[1];\n\n  var _useState2 = useState(0),\n      shippingPrice = _useState2[0],\n      setShippingPrice = _useState2[1];\n\n  var _useState3 = useState(0),\n      cashBack = _useState3[0],\n      setCashBack = _useState3[1];\n\n  var _useState4 = useState(0),\n      cashBackPercent = _useState4[0],\n      setCashBackPercent = _useState4[1];\n\n  var _useState5 = useState(''),\n      cupom = _useState5[0],\n      setCupom = _useState5[1];\n\n  var _useCookies = useCookies(['user']),\n      _useCookies2 = _slicedToArray(_useCookies, 2),\n      cookie = _useCookies2[0],\n      setCookie = _useCookies2[1];\n\n  var _useState6 = useState(false),\n      isLoading = _useState6[0],\n      setIsLoading = _useState6[1];\n\n  var router = useRouter();\n\n  var cupomCheck = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              alert(cupom);\n              _context.next = 3;\n              return api.get(\"/cupom/\".concat(cupom)).then(function (response) {\n                var desconto = response.data.desconto;\n                setCashBackPercent(desconto);\n              })[\"catch\"](function (err) {\n                console.log(err);\n                alert('Cumpom inválido');\n              });\n\n            case 3:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function cupomCheck() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  var handleAddQuant = function handleAddQuant(position) {\n    var products = cart.products;\n    var total = 0; // console.log(products[position].quant)\n\n    products[position].quant = products[position].quant + 1;\n    products.map(function (product) {\n      total = total + product.preco * product.quant;\n    });\n    setCart({\n      products: products,\n      total: total\n    });\n  };\n\n  var handleSubQuant = function handleSubQuant(position) {\n    var products = cart.products;\n    var total = 0;\n\n    if (products[position].quant === 1) {\n      return;\n    }\n\n    products[position].quant = products[position].quant - 1;\n    products.map(function (product) {\n      total = total + product.preco * product.quant;\n    });\n    setCart({\n      products: products,\n      total: total\n    });\n  };\n\n  var shippingCalculate = /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              if (!(cep.length < 8)) {\n                _context2.next = 3;\n                break;\n              }\n\n              alert('cep incompleto');\n              return _context2.abrupt(\"return\");\n\n            case 3:\n              _context2.next = 5;\n              return api.post('/shipping/calculate', {\n                cep: cep,\n                products: products.map(function (product) {\n                  return {\n                    id: product.id,\n                    quant: product.quant\n                  };\n                })\n              }).then(function (response) {\n                var data = response.data;\n                var sedexShipping = data.find(function (option) {\n                  return option.name === 'SEDEX';\n                });\n                setShippingPrice(Number(sedexShipping.price) / 2);\n              })[\"catch\"](function (err) {\n                alert('algo deu errado, por favor tente novamente');\n                console.log(err);\n              });\n\n            case 5:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function shippingCalculate() {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n\n  var handleDelete = function handleDelete(position) {\n    var total = 0.0;\n    var products = cart.products.filter(function (product) {\n      return product !== cart.products[position];\n    });\n    products.map(function (product) {\n      total = total + product.preco * product.quant;\n    });\n    setCart({\n      products: products,\n      total: total\n    });\n  };\n\n  var cashBackCalculate = function cashBackCalculate() {\n    var discount = total / 100 * cashBackPercent;\n    setCashBack(discount);\n  };\n\n  useEffect(function () {\n    cashBackCalculate();\n  }, [cashBackPercent, total]); // useEffect(() => {\n  //   setCart({\n  //     products: [],\n  //     total: 0\n  //   })\n  // }, [])\n\n  if (!products[0]) {\n    return /*#__PURE__*/_jsxDEV(DefaultTemplate, {\n      categorias: categorias,\n      children: /*#__PURE__*/_jsxDEV(PaddingWrapper, {\n        children: /*#__PURE__*/_jsxDEV(HorizontalPaddingWrapper, {\n          children: [/*#__PURE__*/_jsxDEV(Heading, {\n            children: \"Seu carrinho est\\xE1 vazio!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 164,\n            columnNumber: 13\n          }, _this), /*#__PURE__*/_jsxDEV(HorizontalPaddingWrapper, {\n            children: /*#__PURE__*/_jsxDEV(Paragraph, {\n              textAlign: \"center\",\n              children: \"Parece que voc\\xEA n\\xE3o tem nada em seu carrinho, aqui est\\xE3o algumas sujest\\xF5es\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 167,\n              columnNumber: 15\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 166,\n            columnNumber: 13\n          }, _this), /*#__PURE__*/_jsxDEV(HorizontalPaddingWrapper, {\n            children: /*#__PURE__*/_jsxDEV(GridWrapper, {\n              children: tier.map(function (product, index) {\n                return /*#__PURE__*/_jsxDEV(ProductCard, {\n                  id: product.id,\n                  name: product.nome,\n                  image: server + product.cover.url,\n                  price: product.preco,\n                  slug: product.slug\n                }, index, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 176,\n                  columnNumber: 19\n                }, _this);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 174,\n              columnNumber: 15\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 173,\n            columnNumber: 13\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 11\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 9\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 7\n    }, _this);\n  }\n\n  var buy = /*#__PURE__*/function () {\n    var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3() {\n      var order;\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              if (cookie.token) {\n                _context3.next = 3;\n                break;\n              }\n\n              router.push('/login');\n              return _context3.abrupt(\"return\");\n\n            case 3:\n              if (!(shippingPrice === 0)) {\n                _context3.next = 6;\n                break;\n              }\n\n              alert('por favor, insira seu cep e calcule seu frete');\n              return _context3.abrupt(\"return\");\n\n            case 6:\n              if (!isLoading) {\n                _context3.next = 8;\n                break;\n              }\n\n              return _context3.abrupt(\"return\");\n\n            case 8:\n              setIsLoading(true);\n              _context3.next = 11;\n              return api.post('/pedido', {\n                cep: cep,\n                cupom: cupom,\n                products: cart.products\n              }, {\n                headers: {\n                  Authorization: \"Bearer \".concat(cookie.token)\n                }\n              }).then(function (order) {\n                setCart({\n                  products: [],\n                  total: 0\n                });\n                setIsLoading(false);\n                router.push(order.data.url);\n              })[\"catch\"](function (err) {\n                alert('algo deu errado, por favor tente novamente');\n                setIsLoading(false);\n              });\n\n            case 11:\n              order = _context3.sent;\n\n            case 12:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }));\n\n    return function buy() {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/_jsxDEV(DefaultTemplate, {\n    categorias: categorias,\n    children: /*#__PURE__*/_jsxDEV(PaddingWrapper, {\n      children: /*#__PURE__*/_jsxDEV(HorizontalPaddingWrapper, {\n        children: [/*#__PURE__*/_jsxDEV(Heading, {\n          margin: \"0 0 30px 0\",\n          children: \"MEU CARRINHO\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 240,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(Styles.Main, {\n          children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 242,\n            columnNumber: 13\n          }, _this), /*#__PURE__*/_jsxDEV(Styles.ShippingWrapper, {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"header\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"title\",\n                children: \"PRODUTO\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 245,\n                columnNumber: 17\n              }, _this), /*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"title\",\n                children: \"QUANTIDADE\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 246,\n                columnNumber: 17\n              }, _this), /*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"title\",\n                children: \"PRE\\xC7O UNITARIO\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 247,\n                columnNumber: 17\n              }, _this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 244,\n              columnNumber: 15\n            }, _this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 249,\n              columnNumber: 15\n            }, _this), products.map(function (product, index) {\n              return /*#__PURE__*/_jsxDEV(ShadowBox, {\n                className: \"shipping-box\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"cell\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex variable\",\n                    children: [/*#__PURE__*/_jsxDEV(Styles.ProductImage, {\n                      image: server + product.cover.url\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 254,\n                      columnNumber: 23\n                    }, _this), /*#__PURE__*/_jsxDEV(Styles.ProductData, {\n                      children: [/*#__PURE__*/_jsxDEV(Styles.ProductName, {\n                        children: product.nome.toUpperCase()\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 256,\n                        columnNumber: 25\n                      }, _this), /*#__PURE__*/_jsxDEV(Styles.ProductReference, {\n                        children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                          children: \"refer\\xEAncia:\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 261,\n                          columnNumber: 27\n                        }, _this), \" \", product.slug]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 260,\n                        columnNumber: 25\n                      }, _this), product.custom.isCustom && /*#__PURE__*/_jsxDEV(_Fragment, {\n                        children: [/*#__PURE__*/_jsxDEV(Styles.CustomName, {\n                          children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                            children: \"Nome:\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 267,\n                            columnNumber: 31\n                          }, _this), \" \", product.custom.name]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 266,\n                          columnNumber: 29\n                        }, _this), /*#__PURE__*/_jsxDEV(Styles.CustomNumber, {\n                          children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                            children: \"N\\xFAmero:\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 271,\n                            columnNumber: 31\n                          }, _this), \" \", product.custom.number]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 270,\n                          columnNumber: 29\n                        }, _this)]\n                      }, void 0, true), /*#__PURE__*/_jsxDEV(Styles.CustomNumber, {\n                        children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                          children: \"Tamanho:\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 277,\n                          columnNumber: 27\n                        }, _this), \" \", product.size]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 276,\n                        columnNumber: 25\n                      }, _this), /*#__PURE__*/_jsxDEV(Styles.Favorite, {\n                        children: /*#__PURE__*/_jsxDEV(FiHeart, {}, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 281,\n                          columnNumber: 27\n                        }, _this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 280,\n                        columnNumber: 25\n                      }, _this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 255,\n                      columnNumber: 23\n                    }, _this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 253,\n                    columnNumber: 21\n                  }, _this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 252,\n                  columnNumber: 19\n                }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"cell\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex align-center\",\n                    children: /*#__PURE__*/_jsxDEV(QuantController, {\n                      handleAdd: function handleAdd() {\n                        handleAddQuant(index);\n                      },\n                      handleSub: function handleSub() {\n                        handleSubQuant(index);\n                      },\n                      quant: product.quant\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 288,\n                      columnNumber: 23\n                    }, _this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 287,\n                    columnNumber: 21\n                  }, _this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 286,\n                  columnNumber: 19\n                }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"cell\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex align-center\",\n                    children: [/*#__PURE__*/_jsxDEV(Styles.ProductPrice, {\n                      children: priceHandler.priceNumberToReadblePrice(product.preco)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 301,\n                      columnNumber: 23\n                    }, _this), \"\\xA0 \\xA0\", /*#__PURE__*/_jsxDEV(CgCloseR, {\n                      onClick: function onClick() {\n                        handleDelete(index);\n                      },\n                      color: \"red\",\n                      size: 20\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 305,\n                      columnNumber: 23\n                    }, _this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 300,\n                    columnNumber: 21\n                  }, _this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 299,\n                  columnNumber: 19\n                }, _this)]\n              }, index, true, {\n                fileName: _jsxFileName,\n                lineNumber: 251,\n                columnNumber: 17\n              }, _this);\n            })]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 243,\n            columnNumber: 13\n          }, _this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 317,\n            columnNumber: 13\n          }, _this), /*#__PURE__*/_jsxDEV(Styles.OrderResume, {\n            children: [/*#__PURE__*/_jsxDEV(Heading, {\n              role: \"h4\",\n              lineBottom: false,\n              color: \"white100\",\n              children: \"RESUMO DO PEDIDO\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 319,\n              columnNumber: 15\n            }, _this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 323,\n              columnNumber: 15\n            }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"row\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"subtitle\",\n                children: \"SUBTOTAL\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 326,\n                columnNumber: 17\n              }, _this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"main-price\",\n                children: priceHandler.priceNumberToReadblePrice(total)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 328,\n                columnNumber: 17\n              }, _this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 325,\n              columnNumber: 15\n            }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"row\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"subtitle\",\n                children: \"ENTREGA\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 334,\n                columnNumber: 17\n              }, _this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"shipping-price\",\n                children: shippingPrice === 0 ? 'Insira seu cep e calcule o envio' : priceHandler.priceNumberToReadblePrice(shippingPrice)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 336,\n                columnNumber: 17\n              }, _this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 333,\n              columnNumber: 15\n            }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"row\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"subtitle\",\n                children: \"DESCONTO\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 344,\n                columnNumber: 17\n              }, _this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"shipping-price\",\n                children: cashBack === 0 ? 'Insira seu cupom de desconto' : priceHandler.priceNumberToReadblePrice(cashBack)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 346,\n                columnNumber: 17\n              }, _this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 343,\n              columnNumber: 15\n            }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"row\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"subtitle\",\n                children: \"TOTAL\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 354,\n                columnNumber: 17\n              }, _this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"total\",\n                children: priceHandler.priceNumberToReadblePrice(total - cashBack + shippingPrice)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 356,\n                columnNumber: 17\n              }, _this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 353,\n              columnNumber: 15\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 318,\n            columnNumber: 13\n          }, _this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 364,\n            columnNumber: 13\n          }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"shipping-and-cupom\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"shipping\",\n              children: /*#__PURE__*/_jsxDEV(ShadowBox, {\n                paddingX: \"xsmall\",\n                paddingY: \"medium\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"space-between-variable\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                      className: \"xxlarge semiBold\",\n                      children: \"CALCULE FRETE E PRAZO\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 371,\n                      columnNumber: 23\n                    }, _this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 374,\n                      columnNumber: 23\n                    }, _this), /*#__PURE__*/_jsxDEV(Link, {\n                      href: \"http://www.buscacep.correios.com.br/sistemas/buscacep/buscaCepEndereco.cfm\",\n                      target: \"_blank\",\n                      fontSize: \"xlarge\",\n                      children: \"N\\xE3o sei meu cep\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 375,\n                      columnNumber: 23\n                    }, _this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 370,\n                    columnNumber: 21\n                  }, _this), \"\\xA0\", /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"start cep-input-wrapper\",\n                    children: [/*#__PURE__*/_jsxDEV(Input, {\n                      value: cep,\n                      onChange: function onChange(e) {\n                        return setCep(cepMask(e.target.value));\n                      },\n                      height: 50,\n                      width: 200,\n                      maxLength: 8,\n                      placeholder: \"MEU CEP\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 385,\n                      columnNumber: 23\n                    }, _this), /*#__PURE__*/_jsxDEV(Button, {\n                      fontSize: \"xlarge\",\n                      onClick: shippingCalculate,\n                      children: \"OK\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 394,\n                      columnNumber: 23\n                    }, _this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 384,\n                    columnNumber: 21\n                  }, _this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 369,\n                  columnNumber: 19\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 368,\n                columnNumber: 17\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 367,\n              columnNumber: 15\n            }, _this), \"\\xA0\", /*#__PURE__*/_jsxDEV(ShadowBox, {\n              className: \"cupom-wrapper\",\n              children: [/*#__PURE__*/_jsxDEV(Heading, {\n                role: \"h4\",\n                fontSize: \"large\",\n                lineBottom: false,\n                children: \"CUPOM DE DESCONTO\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 403,\n                columnNumber: 17\n              }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"cupom-input-wrapper\",\n                children: [/*#__PURE__*/_jsxDEV(Input, {\n                  value: cupom,\n                  onChange: function onChange(e) {\n                    return setCupom(e.target.value);\n                  },\n                  placeholder: \"MEU CUPOM\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 408,\n                  columnNumber: 19\n                }, _this), ' ', /*#__PURE__*/_jsxDEV(Button, {\n                  onClick: cupomCheck,\n                  children: \"OK\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 413,\n                  columnNumber: 19\n                }, _this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 407,\n                columnNumber: 17\n              }, _this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 402,\n              columnNumber: 15\n            }, _this), /*#__PURE__*/_jsxDEV(Button, {\n              className: \"buy-button\",\n              fill: \"red100\",\n              radius: 10,\n              onClick: buy,\n              children: isLoading ? 'Processando...' : 'Finalizar compra'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 416,\n              columnNumber: 15\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 366,\n            columnNumber: 13\n          }, _this), /*#__PURE__*/_jsxDEV(Heading, {\n            role: \"h2\",\n            lineBottom: false,\n            fontSize: \"xxxlarge\",\n            margin: \"50px 0\",\n            fontWeight: \"bold\",\n            children: \"COMPRE TAMB\\xC9M\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 426,\n            columnNumber: 13\n          }, _this), /*#__PURE__*/_jsxDEV(GridWrapper, {\n            children: tier.map(function (product, index) {\n              return /*#__PURE__*/_jsxDEV(ProductCard, {\n                id: product.id,\n                name: product.nome,\n                image: server + product.cover.url,\n                price: product.preco,\n                slug: product.slug\n              }, index, false, {\n                fileName: _jsxFileName,\n                lineNumber: 438,\n                columnNumber: 17\n              }, _this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 436,\n            columnNumber: 13\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 241,\n          columnNumber: 11\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 9\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 7\n    }, _this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 235,\n    columnNumber: 5\n  }, _this);\n};\n\n_s(Carrinho, \"vl2dGLZXcnEBWD3/ms6wpd3TLnM=\", false, function () {\n  return [useStateContext, useCookies, useRouter];\n});\n\n_c = Carrinho;\nexport var __N_SSG = true;\nexport default Carrinho;\n\nvar _c;\n\n$RefreshReg$(_c, \"Carrinho\");","map":{"version":3,"sources":["C:/Users/cauezitto/Documents/projetos/JG/front-end/src/pages/carrinho.tsx"],"names":["PaddingWrapper","HorizontalPaddingWrapper","DefaultTemplate","Heading","ShadowBox","Styles","useStateContext","QuantController","priceHandler","FiHeart","CgCloseR","GridWrapper","ProductCard","Button","Input","cepMask","Link","useState","useEffect","api","Paragraph","useCookies","useRouter","Carrinho","tier","categorias","server","cart","setCart","products","total","cep","setCep","shippingPrice","setShippingPrice","cashBack","setCashBack","cashBackPercent","setCashBackPercent","cupom","setCupom","cookie","setCookie","isLoading","setIsLoading","router","cupomCheck","alert","get","then","response","desconto","data","err","console","log","handleAddQuant","position","quant","map","product","preco","handleSubQuant","shippingCalculate","length","post","id","sedexShipping","find","option","name","Number","price","handleDelete","filter","cashBackCalculate","discount","index","nome","cover","url","slug","buy","token","push","headers","Authorization","order","toUpperCase","custom","isCustom","number","size","priceNumberToReadblePrice","e","target","value"],"mappings":"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","sourcesContent":["import PaddingWrapper from 'components/PaddingWrapper'\nimport { HorizontalPaddingWrapper } from 'styles/pages/home'\nimport DefaultTemplate from 'templates/Default'\nimport Heading from 'components/Heading'\nimport ShadowBox from 'components/ShadowBox'\nimport * as Styles from 'styles/pages/carrinho'\n// import products from 'mocks/products.json'\nimport { useStateContext } from 'context'\nimport QuantController from 'components/QuantController'\nimport priceHandler from 'utils/handlePrice'\nimport { FiHeart } from 'react-icons/fi'\nimport { CgCloseR } from 'react-icons/cg'\nimport GridWrapper from 'components/GridWrapper'\nimport ProductCard from 'components/ProductCard'\nimport Button from 'components/Button'\nimport Input from 'components/Input'\nimport { cepMask } from 'utils/masks'\nimport Link from 'components/Link'\nimport { useState, useEffect } from 'react'\nimport api from 'services/api'\nimport { initializeApollo } from 'utils/apollo'\nimport { getTierProducts } from 'graphql/queryes/produtos'\nimport { GetStaticProps } from 'next'\nimport { ProductProps } from 'types/ProductProps'\nimport Paragraph from 'components/Paragraph'\nimport { useCookies } from 'react-cookie'\nimport { useRouter } from 'next/router'\nimport { getCategorias } from 'graphql/queryes/categorias'\n\ntype Props = {\n  tier: ProductProps[]\n  categorias: Array<{\n    nome: string\n  }>\n}\n\nconst Carrinho = ({ tier, categorias = [] }: Props) => {\n  const { server, cart, setCart } = useStateContext()\n  const { products, total } = cart\n  const [cep, setCep] = useState('')\n  const [shippingPrice, setShippingPrice] = useState(0)\n  const [cashBack, setCashBack] = useState(0)\n  const [cashBackPercent, setCashBackPercent] = useState(0)\n  const [cupom, setCupom] = useState('')\n  const [cookie, setCookie] = useCookies(['user'])\n  const [isLoading, setIsLoading] = useState(false)\n  const router = useRouter()\n\n  const cupomCheck = async () => {\n    alert(cupom)\n    await api\n      .get(`/cupom/${cupom}`)\n      .then((response) => {\n        const { desconto } = response.data\n        setCashBackPercent(desconto)\n      })\n      .catch((err) => {\n        console.log(err)\n        alert('Cumpom inválido')\n      })\n  }\n\n  const handleAddQuant = (position: number) => {\n    const products = cart.products\n    let total = 0\n\n    // console.log(products[position].quant)\n    products[position].quant = products[position].quant + 1\n\n    products.map((product) => {\n      total = total + product.preco * product.quant\n    })\n\n    setCart({\n      products,\n      total: total\n    })\n  }\n  const handleSubQuant = (position: number) => {\n    const products = cart.products\n\n    let total = 0\n\n    if (products[position].quant === 1) {\n      return\n    }\n\n    products[position].quant = products[position].quant - 1\n\n    products.map((product) => {\n      total = total + product.preco * product.quant\n    })\n\n    setCart({\n      products,\n      total: total\n    })\n  }\n  const shippingCalculate = async () => {\n    if (cep.length < 8) {\n      alert('cep incompleto')\n      return\n    }\n    await api\n      .post('/shipping/calculate', {\n        cep,\n        products: products.map((product) => ({\n          id: product.id,\n          quant: product.quant\n        }))\n      })\n      .then((response) => {\n        const { data } = response\n\n        const sedexShipping = data.find(\n          (option: any) => option.name === 'SEDEX'\n        )\n        setShippingPrice(Number(sedexShipping.price) / 2)\n      })\n      .catch((err) => {\n        alert('algo deu errado, por favor tente novamente')\n        console.log(err)\n      })\n  }\n\n  const handleDelete = (position: number) => {\n    let total = 0.0\n\n    const products = cart.products.filter(\n      (product) => product !== cart.products[position]\n    )\n\n    products.map((product) => {\n      total = total + product.preco * product.quant\n    })\n\n    setCart({\n      products,\n      total: total\n    })\n  }\n\n  const cashBackCalculate = () => {\n    const discount = (total / 100) * cashBackPercent\n\n    setCashBack(discount)\n  }\n\n  useEffect(() => {\n    cashBackCalculate()\n  }, [cashBackPercent, total])\n\n  // useEffect(() => {\n  //   setCart({\n  //     products: [],\n  //     total: 0\n  //   })\n  // }, [])\n  if (!products[0]) {\n    return (\n      <DefaultTemplate categorias={categorias}>\n        <PaddingWrapper>\n          <HorizontalPaddingWrapper>\n            <Heading>Seu carrinho está vazio!</Heading>\n\n            <HorizontalPaddingWrapper>\n              <Paragraph textAlign=\"center\">\n                Parece que você não tem nada em seu carrinho, aqui estão algumas\n                sujestões\n              </Paragraph>\n            </HorizontalPaddingWrapper>\n\n            <HorizontalPaddingWrapper>\n              <GridWrapper>\n                {tier.map((product, index) => (\n                  <ProductCard\n                    id={product.id}\n                    key={index}\n                    name={product.nome}\n                    image={server + product.cover.url}\n                    price={product.preco}\n                    slug={product.slug}\n                  />\n                ))}\n              </GridWrapper>\n            </HorizontalPaddingWrapper>\n          </HorizontalPaddingWrapper>\n        </PaddingWrapper>\n      </DefaultTemplate>\n    )\n  }\n\n  const buy = async () => {\n    if (!cookie.token) {\n      router.push('/login')\n      return\n    }\n\n    if (shippingPrice === 0) {\n      alert('por favor, insira seu cep e calcule seu frete')\n      return\n    }\n\n    if (isLoading) {\n      return\n    }\n\n    setIsLoading(true)\n\n    const order = await api\n      .post(\n        '/pedido',\n        { cep, cupom, products: cart.products },\n        {\n          headers: {\n            Authorization: `Bearer ${cookie.token}`\n          }\n        }\n      )\n      .then((order) => {\n        setCart({\n          products: [],\n          total: 0\n        })\n        setIsLoading(false)\n        router.push(order.data.url)\n      })\n      .catch((err) => {\n        alert('algo deu errado, por favor tente novamente')\n        setIsLoading(false)\n      })\n  }\n\n  return (\n    <DefaultTemplate categorias={categorias}>\n      <PaddingWrapper>\n        <HorizontalPaddingWrapper>\n          <Heading margin=\"0 0 30px 0\">MEU CARRINHO</Heading>\n\n          <br />\n          <Styles.Main>\n            <br />\n            <Styles.ShippingWrapper>\n              <div className=\"header\">\n                <h3 className=\"title\">PRODUTO</h3>\n                <h3 className=\"title\">QUANTIDADE</h3>\n                <h3 className=\"title\">PREÇO UNITARIO</h3>\n              </div>\n              <br />\n              {products.map((product, index) => (\n                <ShadowBox key={index} className=\"shipping-box\">\n                  <div className=\"cell\">\n                    <div className=\"flex variable\">\n                      <Styles.ProductImage image={server + product.cover.url} />\n                      <Styles.ProductData>\n                        <Styles.ProductName>\n                          {product.nome.toUpperCase()}\n                        </Styles.ProductName>\n\n                        <Styles.ProductReference>\n                          <b>referência:</b> {product.slug}\n                        </Styles.ProductReference>\n\n                        {product.custom.isCustom && (\n                          <>\n                            <Styles.CustomName>\n                              <b>Nome:</b> {product.custom.name}\n                            </Styles.CustomName>\n\n                            <Styles.CustomNumber>\n                              <b>Número:</b> {product.custom.number}\n                            </Styles.CustomNumber>\n                          </>\n                        )}\n\n                        <Styles.CustomNumber>\n                          <b>Tamanho:</b> {product.size}\n                        </Styles.CustomNumber>\n\n                        <Styles.Favorite>\n                          <FiHeart />\n                        </Styles.Favorite>\n                      </Styles.ProductData>\n                    </div>\n                  </div>\n                  <div className=\"cell\">\n                    <div className=\"flex align-center\">\n                      <QuantController\n                        handleAdd={() => {\n                          handleAddQuant(index)\n                        }}\n                        handleSub={() => {\n                          handleSubQuant(index)\n                        }}\n                        quant={product.quant}\n                      />\n                    </div>\n                  </div>\n                  <div className=\"cell\">\n                    <div className=\"flex align-center\">\n                      <Styles.ProductPrice>\n                        {priceHandler.priceNumberToReadblePrice(product.preco)}\n                      </Styles.ProductPrice>\n                      &nbsp; &nbsp;\n                      <CgCloseR\n                        onClick={() => {\n                          handleDelete(index)\n                        }}\n                        color=\"red\"\n                        size={20}\n                      />\n                    </div>\n                  </div>\n                </ShadowBox>\n              ))}\n            </Styles.ShippingWrapper>\n            <br />\n            <Styles.OrderResume>\n              <Heading role=\"h4\" lineBottom={false} color=\"white100\">\n                RESUMO DO PEDIDO\n              </Heading>\n\n              <br />\n\n              <div className=\"row\">\n                <span className=\"subtitle\">SUBTOTAL</span>\n\n                <span className=\"main-price\">\n                  {priceHandler.priceNumberToReadblePrice(total)}\n                </span>\n              </div>\n\n              <div className=\"row\">\n                <span className=\"subtitle\">ENTREGA</span>\n\n                <span className=\"shipping-price\">\n                  {shippingPrice === 0\n                    ? 'Insira seu cep e calcule o envio'\n                    : priceHandler.priceNumberToReadblePrice(shippingPrice)}\n                </span>\n              </div>\n\n              <div className=\"row\">\n                <span className=\"subtitle\">DESCONTO</span>\n\n                <span className=\"shipping-price\">\n                  {cashBack === 0\n                    ? 'Insira seu cupom de desconto'\n                    : priceHandler.priceNumberToReadblePrice(cashBack)}\n                </span>\n              </div>\n\n              <div className=\"row\">\n                <span className=\"subtitle\">TOTAL</span>\n\n                <span className=\"total\">\n                  {priceHandler.priceNumberToReadblePrice(\n                    total - cashBack + shippingPrice\n                  )}\n                </span>\n              </div>\n            </Styles.OrderResume>\n\n            <br />\n\n            <div className=\"shipping-and-cupom\">\n              <div className=\"shipping\">\n                <ShadowBox paddingX=\"xsmall\" paddingY=\"medium\">\n                  <div className=\"space-between-variable\">\n                    <div>\n                      <h3 className=\"xxlarge semiBold\">\n                        CALCULE FRETE E PRAZO\n                      </h3>\n                      <br />\n                      <Link\n                        href=\"http://www.buscacep.correios.com.br/sistemas/buscacep/buscaCepEndereco.cfm\"\n                        target=\"_blank\"\n                        fontSize=\"xlarge\"\n                      >\n                        Não sei meu cep\n                      </Link>\n                    </div>\n                    &nbsp;\n                    <div className=\"start cep-input-wrapper\">\n                      <Input\n                        value={cep}\n                        onChange={(e) => setCep(cepMask(e.target.value))}\n                        height={50}\n                        width={200}\n                        maxLength={8}\n                        placeholder=\"MEU CEP\"\n                      />\n\n                      <Button fontSize=\"xlarge\" onClick={shippingCalculate}>\n                        OK\n                      </Button>\n                    </div>\n                  </div>\n                </ShadowBox>\n              </div>\n              &nbsp;\n              <ShadowBox className=\"cupom-wrapper\">\n                <Heading role=\"h4\" fontSize=\"large\" lineBottom={false}>\n                  CUPOM DE DESCONTO\n                </Heading>\n\n                <div className=\"cupom-input-wrapper\">\n                  <Input\n                    value={cupom}\n                    onChange={(e) => setCupom(e.target.value)}\n                    placeholder=\"MEU CUPOM\"\n                  />{' '}\n                  <Button onClick={cupomCheck}>OK</Button>\n                </div>\n              </ShadowBox>\n              <Button\n                className=\"buy-button\"\n                fill=\"red100\"\n                radius={10}\n                onClick={buy}\n              >\n                {isLoading ? 'Processando...' : 'Finalizar compra'}\n              </Button>\n            </div>\n\n            <Heading\n              role=\"h2\"\n              lineBottom={false}\n              fontSize=\"xxxlarge\"\n              margin=\"50px 0\"\n              fontWeight=\"bold\"\n            >\n              COMPRE TAMBÉM\n            </Heading>\n\n            <GridWrapper>\n              {tier.map((product, index) => (\n                <ProductCard\n                  id={product.id}\n                  key={index}\n                  name={product.nome}\n                  image={server + product.cover.url}\n                  price={product.preco}\n                  slug={product.slug}\n                />\n              ))}\n            </GridWrapper>\n          </Styles.Main>\n        </HorizontalPaddingWrapper>\n      </PaddingWrapper>\n    </DefaultTemplate>\n  )\n}\n\nexport const getStaticProps: GetStaticProps = async () => {\n  const client = initializeApollo()\n\n  const { data } = await client.query({\n    query: getTierProducts\n  })\n  const tierList = data.destaque.produtos.map((produto: any) => produto.produto)\n\n  const response = await client.query({\n    query: getCategorias\n  })\n\n  const { categorias } = response.data\n\n  return {\n    props: {\n      tier: data.destaque.produtos.map((produto: any) => produto.produto),\n      categorias\n    },\n    revalidate: 60\n  }\n}\n\nexport default Carrinho\n"]},"metadata":{},"sourceType":"module"}