{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"C:\\\\Users\\\\cauezitto\\\\Documents\\\\projetos\\\\JG\\\\front-end\\\\src\\\\components\\\\ProductCard\\\\index.tsx\";\nimport * as S from './styles';\nimport Link from 'next/link';\nimport priceHandler from 'utils/handlePrice';\nimport { FiHeart } from 'react-icons/fi';\nimport { FaHeart } from 'react-icons/fa';\nimport { useCookies } from 'react-cookie';\nimport { useState, useEffect } from 'react';\n\nconst ProductCard = ({\n  id,\n  name,\n  image,\n  price,\n  slug\n}) => {\n  const [cookie] = useCookies(['user']);\n  const {\n    0: isFavorite,\n    1: setIsFavorite\n  } = useState(false);\n\n  const checkIsFavorite = () => {\n    if (!cookie.token) {\n      return;\n    }\n\n    if (!cookie.user) {\n      return;\n    }\n\n    const {\n      favorites\n    } = cookie.user;\n\n    if (!favorites) {\n      return;\n    }\n\n    favorites.map(productId => {\n      if (productId == id) {\n        setIsFavorite(true);\n      }\n    });\n  };\n\n  useEffect(() => {\n    checkIsFavorite();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(Link, {\n    href: `/produto/${slug}`,\n    passHref: true,\n    children: /*#__PURE__*/_jsxDEV(S.Wrapper, {\n      children: [/*#__PURE__*/_jsxDEV(S.favoriteWrapper, {\n        children: isFavorite ? /*#__PURE__*/_jsxDEV(FaHeart, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 25\n        }, this) : /*#__PURE__*/_jsxDEV(FiHeart, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 39\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(S.ImageWrapper, {\n        children: /*#__PURE__*/_jsxDEV(S.Image, {\n          src: image,\n          alt: name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(S.InfoWrapper, {\n        children: [/*#__PURE__*/_jsxDEV(S.ProductTitle, {\n          children: name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(S.ProductPrice, {\n          children: priceHandler.priceNumberToReadblePrice(price ? price : 0)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(S.Installments, {\n          children: `Ou então 12x de ${priceHandler.priceNumberToReadblePrice((price ? price : 0) / 12)}`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"cart-button\",\n          children: /*#__PURE__*/_jsxDEV(S.CartButton, {\n            role: \"button\",\n            children: \"ADD CARRINHO\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 5\n  }, this);\n};\n\nexport default ProductCard;","map":{"version":3,"sources":["C:/Users/cauezitto/Documents/projetos/JG/front-end/src/components/ProductCard/index.tsx"],"names":["S","Link","priceHandler","FiHeart","FaHeart","useCookies","useState","useEffect","ProductCard","id","name","image","price","slug","cookie","isFavorite","setIsFavorite","checkIsFavorite","token","user","favorites","map","productId","priceNumberToReadblePrice"],"mappings":";;AAAA,OAAO,KAAKA,CAAZ,MAAmB,UAAnB;AACA,OAAOC,IAAP,MAAiB,WAAjB;AACA,OAAOC,YAAP,MAAyB,mBAAzB;AACA,SAASC,OAAT,QAAwB,gBAAxB;AACA,SAASC,OAAT,QAAwB,gBAAxB;AACA,SAASC,UAAT,QAA2B,cAA3B;AACA,SAASC,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;;AAWA,MAAMC,WAAW,GAAG,CAAC;AAAEC,EAAAA,EAAF;AAAMC,EAAAA,IAAN;AAAYC,EAAAA,KAAZ;AAAmBC,EAAAA,KAAnB;AAA0BC,EAAAA;AAA1B,CAAD,KAAoD;AACtE,QAAM,CAACC,MAAD,IAAWT,UAAU,CAAC,CAAC,MAAD,CAAD,CAA3B;AACA,QAAM;AAAA,OAACU,UAAD;AAAA,OAAaC;AAAb,MAA8BV,QAAQ,CAAC,KAAD,CAA5C;;AAEA,QAAMW,eAAe,GAAG,MAAM;AAC5B,QAAI,CAACH,MAAM,CAACI,KAAZ,EAAmB;AACjB;AACD;;AAED,QAAI,CAACJ,MAAM,CAACK,IAAZ,EAAkB;AAChB;AACD;;AAED,UAAM;AAAEC,MAAAA;AAAF,QAAgBN,MAAM,CAACK,IAA7B;;AAEA,QAAI,CAACC,SAAL,EAAgB;AACd;AACD;;AAEDA,IAAAA,SAAS,CAACC,GAAV,CAAeC,SAAD,IAAuB;AACnC,UAAIA,SAAS,IAAIb,EAAjB,EAAqB;AACnBO,QAAAA,aAAa,CAAC,IAAD,CAAb;AACD;AACF,KAJD;AAKD,GApBD;;AAsBAT,EAAAA,SAAS,CAAC,MAAM;AACdU,IAAAA,eAAe;AAChB,GAFQ,EAEN,EAFM,CAAT;AAIA,sBACE,QAAC,IAAD;AAAM,IAAA,IAAI,EAAG,YAAWJ,IAAK,EAA7B;AAAgC,IAAA,QAAQ,MAAxC;AAAA,2BACE,QAAC,CAAD,CAAG,OAAH;AAAA,8BACE,QAAC,CAAD,CAAG,eAAH;AAAA,kBACGE,UAAU,gBAAG,QAAC,OAAD;AAAA;AAAA;AAAA;AAAA,gBAAH,gBAAiB,QAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAD9B;AAAA;AAAA;AAAA;AAAA,cADF,eAIE,QAAC,CAAD,CAAG,YAAH;AAAA,+BACE,QAAC,CAAD,CAAG,KAAH;AAAS,UAAA,GAAG,EAAEJ,KAAd;AAAqB,UAAA,GAAG,EAAED;AAA1B;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cAJF,eAOE,QAAC,CAAD,CAAG,WAAH;AAAA,gCACE,QAAC,CAAD,CAAG,YAAH;AAAA,oBAAiBA;AAAjB;AAAA;AAAA;AAAA;AAAA,gBADF,eAEE,QAAC,CAAD,CAAG,YAAH;AAAA,oBACGR,YAAY,CAACqB,yBAAb,CAAuCX,KAAK,GAAGA,KAAH,GAAW,CAAvD;AADH;AAAA;AAAA;AAAA;AAAA,gBAFF,eAKE,QAAC,CAAD,CAAG,YAAH;AAAA,oBAAkB,mBAAkBV,YAAY,CAACqB,yBAAb,CAClC,CAACX,KAAK,GAAGA,KAAH,GAAW,CAAjB,IAAsB,EADY,CAElC;AAFF;AAAA;AAAA;AAAA;AAAA,gBALF,eAQE;AAAK,UAAA,SAAS,EAAC,aAAf;AAAA,iCACE,QAAC,CAAD,CAAG,UAAH;AAAc,YAAA,IAAI,EAAC,QAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,gBARF;AAAA;AAAA;AAAA;AAAA;AAAA,cAPF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,UADF;AAwBD,CAtDD;;AAwDA,eAAeJ,WAAf","sourcesContent":["import * as S from './styles'\nimport Link from 'next/link'\nimport priceHandler from 'utils/handlePrice'\nimport { FiHeart } from 'react-icons/fi'\nimport { FaHeart } from 'react-icons/fa'\nimport { useCookies } from 'react-cookie'\nimport { useState, useEffect } from 'react'\n\nexport type ProductProps = {\n  id: number\n  image: string\n  name: string\n  price: number\n  slug: string\n  isFavorite?: boolean\n}\n\nconst ProductCard = ({ id, name, image, price, slug }: ProductProps) => {\n  const [cookie] = useCookies(['user'])\n  const [isFavorite, setIsFavorite] = useState(false)\n\n  const checkIsFavorite = () => {\n    if (!cookie.token) {\n      return\n    }\n\n    if (!cookie.user) {\n      return\n    }\n\n    const { favorites } = cookie.user\n\n    if (!favorites) {\n      return\n    }\n\n    favorites.map((productId: number) => {\n      if (productId == id) {\n        setIsFavorite(true)\n      }\n    })\n  }\n\n  useEffect(() => {\n    checkIsFavorite()\n  }, [])\n\n  return (\n    <Link href={`/produto/${slug}`} passHref>\n      <S.Wrapper>\n        <S.favoriteWrapper>\n          {isFavorite ? <FaHeart /> : <FiHeart />}\n        </S.favoriteWrapper>\n        <S.ImageWrapper>\n          <S.Image src={image} alt={name} />\n        </S.ImageWrapper>\n        <S.InfoWrapper>\n          <S.ProductTitle>{name}</S.ProductTitle>\n          <S.ProductPrice>\n            {priceHandler.priceNumberToReadblePrice(price ? price : 0)}\n          </S.ProductPrice>\n          <S.Installments>{`Ou então 12x de ${priceHandler.priceNumberToReadblePrice(\n            (price ? price : 0) / 12\n          )}`}</S.Installments>\n          <div className=\"cart-button\">\n            <S.CartButton role=\"button\">ADD CARRINHO</S.CartButton>\n          </div>\n        </S.InfoWrapper>\n      </S.Wrapper>\n    </Link>\n  )\n}\n\nexport default ProductCard\n"]},"metadata":{},"sourceType":"module"}