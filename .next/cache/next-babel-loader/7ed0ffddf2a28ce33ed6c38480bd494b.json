{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport Dashboard from 'templates/dashboard';\nimport Link from 'next/link';\nimport ExternalLink from 'components/Link';\nimport Container from 'styles/pages/dashboard/pedido';\nimport Heading from 'components/Heading';\nimport ShadowBox from 'components/ShadowBox';\nimport Paragraph from 'components/Paragraph';\nimport { MdKeyboardArrowLeft } from 'react-icons/md';\nimport { parseCookies } from 'helpers';\nimport api from 'services/api';\nimport handlePrice from 'utils/handlePrice'; // import orders from 'mocks/orders.json'\n\nexport const getServerSideProps = async ({\n  req,\n  params = {\n    id: 1\n  }\n}) => {\n  const cookies = parseCookies(req);\n  let order = {};\n  let error = false;\n  JSON.stringify(cookies);\n\n  if (!cookies.token) {\n    console.log('redirecionado');\n    return {\n      redirect: {\n        destination: '/login',\n        permanent: false\n      }\n    };\n  }\n\n  await api.get(`/pedido/${params.id}`, {\n    headers: {\n      Authorization: `Bearer ${cookies.token}`\n    }\n  }).then(response => {\n    const {\n      data\n    } = response;\n    order = data;\n  }).catch(err => {\n    console.log(err);\n    error = true;\n  });\n\n  if (error) {\n    return {\n      redirect: {\n        destination: '/login',\n        permanent: false\n      }\n    };\n  }\n\n  console.log(order);\n  return {\n    props: {\n      order\n    } // will be passed to the page component as props\n\n  };\n};\n\nconst Order = ({\n  order\n}) => {\n  // const order = orders[0]\n  const date = new Date(order.created_at);\n  let recebimento;\n\n  if (order.recebimento) {\n    recebimento = new Date(order.recebimento);\n  }\n\n  return /*#__PURE__*/_jsx(Dashboard, {\n    paddingSmall: true,\n    children: /*#__PURE__*/_jsxs(Container, {\n      children: [/*#__PURE__*/_jsxs(\"div\", {\n        className: \"table desktop\",\n        children: [/*#__PURE__*/_jsxs(ShadowBox, {\n          className: \"table-head\",\n          radius: \"medium\",\n          paddingX: \"small\",\n          paddingY: \"small\",\n          children: [/*#__PURE__*/_jsx(Paragraph, {\n            font: \"ubuntu\",\n            fontSize: \"large\",\n            color: \"black\",\n            fontWeight: \"semiBold\",\n            children: \"PEDIDO\"\n          }), /*#__PURE__*/_jsx(Paragraph, {\n            font: \"ubuntu\",\n            fontSize: \"large\",\n            color: \"black\",\n            fontWeight: \"semiBold\",\n            children: \"DATA\"\n          }), /*#__PURE__*/_jsx(Paragraph, {\n            font: \"ubuntu\",\n            fontSize: \"large\",\n            color: \"black\",\n            fontWeight: \"semiBold\",\n            children: \"STATUS\"\n          }), /*#__PURE__*/_jsx(Paragraph, {\n            font: \"ubuntu\",\n            fontSize: \"large\",\n            color: \"black\",\n            fontWeight: \"semiBold\",\n            children: \"VALOR\"\n          }), /*#__PURE__*/_jsx(Paragraph, {\n            font: \"ubuntu\",\n            fontSize: \"large\",\n            color: \"black\",\n            fontWeight: \"semiBold\",\n            children: \"A RECEBER\"\n          })]\n        }), /*#__PURE__*/_jsx(ShadowBox, {\n          className: \"t-body\",\n          paddingX: \"small\",\n          paddingY: \"medium\",\n          children: /*#__PURE__*/_jsxs(\"div\", {\n            className: \"t-row\",\n            children: [/*#__PURE__*/_jsxs(Paragraph, {\n              font: \"ubuntu\",\n              fontSize: \"medium\",\n              color: \"black\",\n              fontWeight: \"semiBold\",\n              children: [\"#\", order.id]\n            }), /*#__PURE__*/_jsx(Paragraph, {\n              font: \"ubuntu\",\n              fontSize: \"medium\",\n              color: \"black\",\n              fontWeight: \"semiBold\",\n              children: date.getDate() + '/' + (date.getMonth() + 1) + '/' + date.getFullYear()\n            }), /*#__PURE__*/_jsxs(\"div\", {\n              className: `item color-${order.status === 'aprovado' ? 'green' : order.status === 'pendente' ? 'yellow' : 'red'}`,\n              children: [\"Pagamento \", /*#__PURE__*/_jsx(\"br\", {}), \" \", order.status]\n            }), /*#__PURE__*/_jsx(Paragraph, {\n              font: \"ubuntu\",\n              fontSize: \"large\",\n              color: \"black\",\n              fontWeight: \"semiBold\",\n              children: handlePrice.priceNumberToReadblePrice(order.total)\n            }), /*#__PURE__*/_jsx(Paragraph, {\n              font: \"ubuntu\",\n              fontSize: \"medium\",\n              color: \"black\",\n              fontWeight: \"semiBold\",\n              children: order.status === 'aprovado' ? recebimento && recebimento.getDate() + '/' + (recebimento.getMonth() + 1) + '/' + recebimento.getFullYear() : '...'\n            })]\n          })\n        })]\n      }), /*#__PURE__*/_jsx(\"div\", {\n        className: \"table table-mobile\",\n        children: /*#__PURE__*/_jsxs(ShadowBox, {\n          paddingX: \"small\",\n          paddingY: \"small\",\n          radius: \"large\",\n          className: \"grid\",\n          children: [/*#__PURE__*/_jsxs(\"div\", {\n            className: \"item\",\n            children: [/*#__PURE__*/_jsx(Heading, {\n              font: \"ubuntu\",\n              fontSize: \"large\",\n              color: \"black\",\n              fontWeight: \"semiBold\",\n              lineBottom: false,\n              children: \"PEDIDO\"\n            }), /*#__PURE__*/_jsxs(Paragraph, {\n              font: \"ubuntu\",\n              fontSize: \"medium\",\n              color: \"black\",\n              fontWeight: \"semiBold\",\n              children: [\"#\", order.id]\n            })]\n          }), /*#__PURE__*/_jsxs(\"div\", {\n            className: \"item\",\n            children: [/*#__PURE__*/_jsx(Heading, {\n              font: \"ubuntu\",\n              fontSize: \"large\",\n              color: \"black\",\n              fontWeight: \"semiBold\",\n              lineBottom: false,\n              children: \"DATA\"\n            }), /*#__PURE__*/_jsx(Paragraph, {\n              font: \"ubuntu\",\n              fontSize: \"medium\",\n              color: \"black\",\n              fontWeight: \"semiBold\",\n              children: date.getDate() + '/' + (date.getMonth() + 1) + '/' + date.getFullYear()\n            })]\n          }), /*#__PURE__*/_jsxs(\"div\", {\n            className: \"item\",\n            children: [/*#__PURE__*/_jsx(Heading, {\n              font: \"ubuntu\",\n              fontSize: \"large\",\n              color: \"black\",\n              fontWeight: \"semiBold\",\n              lineBottom: false,\n              children: \"STATUS\"\n            }), /*#__PURE__*/_jsxs(\"div\", {\n              className: `item color-${order.status === 'aprovado' ? 'green' : order.status === 'pendente' ? 'yellow' : 'red'}`,\n              children: [\"Pagamento \", /*#__PURE__*/_jsx(\"br\", {}), \" \", order.status]\n            })]\n          }), /*#__PURE__*/_jsxs(\"div\", {\n            className: \"item\",\n            children: [/*#__PURE__*/_jsx(Heading, {\n              font: \"ubuntu\",\n              fontSize: \"large\",\n              color: \"black\",\n              fontWeight: \"semiBold\",\n              lineBottom: false,\n              children: \"VALOR\"\n            }), /*#__PURE__*/_jsx(Paragraph, {\n              font: \"ubuntu\",\n              fontSize: \"medium\",\n              color: \"black\",\n              fontWeight: \"semiBold\",\n              children: handlePrice.priceNumberToReadblePrice(order.total)\n            })]\n          }), /*#__PURE__*/_jsx(\"div\", {}), /*#__PURE__*/_jsxs(\"div\", {\n            className: \"item\",\n            children: [/*#__PURE__*/_jsx(Heading, {\n              font: \"ubuntu\",\n              fontSize: \"large\",\n              color: \"black\",\n              fontWeight: \"semiBold\",\n              lineBottom: false,\n              children: \"A RECEBER\"\n            }), /*#__PURE__*/_jsx(Paragraph, {\n              font: \"ubuntu\",\n              fontSize: \"medium\",\n              color: \"black\",\n              fontWeight: \"semiBold\",\n              children: order.status === 'aprovado' ? recebimento && recebimento.getDate() + '/' + (recebimento.getMonth() + 1) + '/' + recebimento.getFullYear() : '...'\n            })]\n          })]\n        })\n      }), /*#__PURE__*/_jsx(\"div\", {\n        className: \"shipping\",\n        children: /*#__PURE__*/_jsxs(ShadowBox, {\n          paddingX: \"small\",\n          paddingY: \"small\",\n          radius: \"large\",\n          children: [/*#__PURE__*/_jsx(Heading, {\n            margin: \"0 0 20px 0\",\n            justify: \"center\",\n            color: \"black\",\n            font: \"ubuntu\",\n            fontSize: \"xxlarge\",\n            fontWeight: \"semiBold\",\n            lineBottom: false,\n            role: \"h2\",\n            children: order.status === 'aprovado' ? 'Dados do correio' : 'Link de pagamento'\n          }), /*#__PURE__*/_jsx(Paragraph, {\n            justify: \"center\",\n            color: \"black\",\n            font: \"ubuntu\",\n            textAlign: \"center\",\n            fontSize: \"xlarge\",\n            children: order.status === 'aprovado' ? `CÃ³digo de rastreio: ${order.dados_de_envio.rastreio}` : /*#__PURE__*/_jsx(ExternalLink, {\n              textAlign: \"center\",\n              color: \"black\",\n              href: order.link,\n              children: order.link\n            })\n          })]\n        })\n      }), /*#__PURE__*/_jsx(\"div\", {\n        className: \"address\",\n        children: /*#__PURE__*/_jsxs(ShadowBox, {\n          paddingX: \"small\",\n          paddingY: \"small\",\n          radius: \"large\",\n          height: 300,\n          children: [/*#__PURE__*/_jsx(Heading, {\n            margin: \"0 0 20px 0\",\n            justify: \"center\",\n            color: \"black\",\n            font: \"ubuntu\",\n            fontSize: \"xxlarge\",\n            fontWeight: \"semiBold\",\n            role: \"h2\",\n            lineBottom: false,\n            children: \"Endere\\xE7o da entrega\"\n          }), /*#__PURE__*/_jsx(Paragraph, {\n            justify: \"center\",\n            color: \"black\",\n            font: \"ubuntu\",\n            textAlign: \"center\",\n            fontSize: \"large\",\n            fontWeight: \"semiBold\",\n            children: `${order.endereco.rua} ${order.endereco.numero}, ${order.endereco.bairro}, ${order.endereco.cidade}, ${order.endereco.UF}`\n          })]\n        })\n      }), /*#__PURE__*/_jsx(\"div\", {\n        className: \"back2orders desktop\",\n        children: /*#__PURE__*/_jsx(Link, {\n          href: \"/dashboard/pedidos\",\n          passHref: true,\n          children: /*#__PURE__*/_jsxs(\"a\", {\n            children: [/*#__PURE__*/_jsx(MdKeyboardArrowLeft, {\n              size: 50\n            }), \"Voltar \\xE0 tela \", /*#__PURE__*/_jsx(\"br\", {}), \" anterior\"]\n          })\n        })\n      })]\n    })\n  });\n};\n\nexport default Order;","map":null,"metadata":{},"sourceType":"module"}