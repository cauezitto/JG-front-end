{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport Dashboard from 'templates/dashboard';\nimport Link from 'next/link';\nimport Container from 'styles/pages/dashboard/Pedidos';\nimport Heading from 'components/Heading';\nimport ShadowBox from 'components/ShadowBox';\nimport Paragraph from 'components/Paragraph';\nimport { HiOutlineArrowRight } from 'react-icons/hi';\nimport api from 'services/api';\nimport { parseCookies } from 'helpers';\nimport handlePrice from 'utils/handlePrice'; // import orders from 'mocks/orders.json'\n\nexport const getServerSideProps = async ({\n  req\n}) => {\n  const cookies = parseCookies(req);\n  let orders = [];\n  let error = false;\n\n  if (!cookies.token) {\n    console.log('redirecionado');\n    return {\n      redirect: {\n        destination: '/login',\n        permanent: false\n      }\n    };\n  }\n\n  await api.get('/pedido', {\n    headers: {\n      Authorization: `Bearer ${cookies.token}`\n    }\n  }).then(response => {\n    const {\n      data\n    } = response;\n    orders = data;\n  }).catch(err => {\n    console.log(err);\n    error = true;\n  });\n\n  if (error) {\n    return {\n      redirect: {\n        destination: '/login',\n        permanent: false\n      }\n    };\n  }\n\n  console.log(orders);\n  return {\n    props: {\n      orders\n    } // will be passed to the page component as props\n\n  };\n};\n\nconst Pedidos = ({\n  orders\n}) => {\n  return /*#__PURE__*/_jsx(Dashboard, {\n    children: /*#__PURE__*/_jsxs(Container, {\n      children: [/*#__PURE__*/_jsx(Heading, {\n        color: \"brown\",\n        fontSize: \"xxmax\",\n        justify: \"center\",\n        fontWeight: \"semiBold\",\n        lineBottom: false,\n        margin: \"0\",\n        children: \"Meus Pedidos\"\n      }), /*#__PURE__*/_jsx(Paragraph, {\n        margin: \"20px 0\",\n        textAlign: \"center\",\n        fontSize: \"extra\",\n        children: \"Acesse seu pedidos logo abaixo\"\n      }), /*#__PURE__*/_jsx(\"div\", {\n        className: \"orders\",\n        children: orders.map((order, index) => /*#__PURE__*/_jsxs(\"div\", {\n          className: \"order-wrapper\",\n          children: [/*#__PURE__*/_jsx(\"div\", {\n            className: `state ${order.status === 'aprovado' ? 'green' : order.status === 'pendente' ? 'yellow' : 'red'}`\n          }), /*#__PURE__*/_jsxs(ShadowBox, {\n            className: \"order\",\n            radius: \"large\",\n            height: 120,\n            paddingX: \"medium\",\n            paddingY: \"small\",\n            children: [/*#__PURE__*/_jsx(\"div\", {\n              className: \"cod\",\n              children: /*#__PURE__*/_jsxs(Paragraph, {\n                fontWeight: \"semiBold\",\n                fontSize: \"large\",\n                font: \"ubuntu\",\n                color: \"black\",\n                children: [\"#\", order.id]\n              })\n            }), /*#__PURE__*/_jsxs(\"div\", {\n              className: `status item color-${order.status === 'aprovado' ? 'green' : order.status === 'pendente' ? 'yellow' : 'red'}`,\n              children: [\"Status : \", order.status]\n            }), /*#__PURE__*/_jsx(\"div\", {\n              className: \"price\",\n              children: /*#__PURE__*/_jsx(Heading, {\n                margin: \"0\",\n                color: \"black\",\n                font: \"ubuntu\",\n                fontSize: \"xlarge\",\n                lineBottom: false,\n                textAlign: \"left\",\n                role: \"h4\",\n                children: handlePrice.priceNumberToReadblePrice(order.total)\n              })\n            }), /*#__PURE__*/_jsx(\"div\", {\n              className: \"link item\",\n              children: /*#__PURE__*/_jsx(Link, {\n                href: `/dashboard/pedido/${order.id}`,\n                passHref: true,\n                children: /*#__PURE__*/_jsx(\"a\", {\n                  children: /*#__PURE__*/_jsxs(Paragraph, {\n                    fontSize: \"large\",\n                    font: \"ubuntu\",\n                    fontWeight: \"semiBold\",\n                    color: \"black\",\n                    children: ['Conferir', \" \\xA0 \", /*#__PURE__*/_jsx(HiOutlineArrowRight, {})]\n                  })\n                })\n              })\n            })]\n          })]\n        }, index))\n      })]\n    })\n  });\n};\n\nexport default Pedidos;","map":null,"metadata":{},"sourceType":"module"}