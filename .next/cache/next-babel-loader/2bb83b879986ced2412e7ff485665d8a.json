{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { useState, useEffect } from 'react';\nimport Button from 'components/Button';\nimport Checkbox from 'components/CheckBox';\nimport Heading from 'components/Heading';\nimport xor from 'lodash.xor';\nimport * as S from './styles';\nimport { useRouter } from 'next/router';\n\nvar FilterAside = function FilterAside(_ref) {\n  var categorias = _ref.categorias,\n      marcas = _ref.marcas,\n      mobileShow = _ref.mobileShow,\n      onClose = _ref.onClose,\n      onFilter = _ref.onFilter,\n      _ref$initialValues = _ref.initialValues,\n      initialValues = _ref$initialValues === void 0 ? {} : _ref$initialValues,\n      isLoading = _ref.isLoading;\n\n  var _useState = useState(initialValues),\n      values = _useState[0],\n      setValues = _useState[1];\n\n  var _useRouter = useRouter(),\n      query = _useRouter.query; // console.log(values)\n\n\n  useEffect(function () {\n    // console.log(values)\n    onFilter(values); // this method comes from another template\n    // that we don't have access\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [values]); // useEffect(() => {\n  //   if (query.nome_contains !== initial_query) {\n  //     const { nome_contains } = query\n  //     // console.log(values)\n  //     setValues({ marca: [], categorias: [], nome_contains })\n  //     setInitial_query(query.nome_contains)\n  //     // console.log('mudou')\n  //   }\n  // }, [query])\n\n  var handleCheckbox = function handleCheckbox(name, value) {\n    if (isLoading) {\n      return;\n    }\n\n    var currentList = values[name] || [];\n    setValues(function (s) {\n      var _objectSpread2;\n\n      return query.nome_contains ? _objectSpread(_objectSpread({}, s), {}, (_objectSpread2 = {}, _defineProperty(_objectSpread2, name, xor(currentList, [value])), _defineProperty(_objectSpread2, \"nome_contains\", query.nome_contains), _objectSpread2)) : _objectSpread(_objectSpread({}, s), {}, _defineProperty({}, name, xor(currentList, [value])));\n    });\n  };\n\n  return /*#__PURE__*/_jsxs(S.Wrapper, {\n    show: mobileShow,\n    children: [/*#__PURE__*/_jsx(Heading, {\n      role: \"h2\",\n      textAlign: \"left\",\n      fontSize: \"xxlarge\",\n      lineBottom: false,\n      children: \"Categorias\"\n    }), categorias.map(function (categoria, index) {\n      var _values$categorias;\n\n      return /*#__PURE__*/_jsx(Checkbox, {\n        labelColor: \"black\",\n        color: \"black\",\n        label: categoria.nome,\n        type: \"checkbox\",\n        onCheck: function onCheck() {\n          return handleCheckbox('categorias', categoria.nome);\n        },\n        isChecked: (_values$categorias = values['categorias']) === null || _values$categorias === void 0 ? void 0 : _values$categorias.includes(categoria.nome)\n      }, index);\n    }), /*#__PURE__*/_jsx(\"br\", {}), /*#__PURE__*/_jsx(\"hr\", {}), /*#__PURE__*/_jsx(\"br\", {}), /*#__PURE__*/_jsx(Heading, {\n      role: \"h2\",\n      textAlign: \"left\",\n      fontSize: \"xxlarge\",\n      lineBottom: false,\n      children: \"Marcas\"\n    }), marcas.map(function (marca, index) {\n      var _values$marca;\n\n      return /*#__PURE__*/_jsx(Checkbox, {\n        labelColor: \"black\",\n        color: \"black\",\n        label: marca.nome,\n        onCheck: function onCheck() {\n          return handleCheckbox('marca', marca.nome);\n        },\n        isChecked: (_values$marca = values['marca']) === null || _values$marca === void 0 ? void 0 : _values$marca.includes(marca.nome)\n      }, index);\n    }), /*#__PURE__*/_jsx(S.Footer, {\n      children: /*#__PURE__*/_jsx(Button, {\n        fill: \"red100\",\n        fontSize: \"large\",\n        radius: 10,\n        onClick: onClose,\n        children: \"Aplicar\"\n      })\n    })]\n  });\n};\n\nexport default FilterAside;","map":null,"metadata":{},"sourceType":"module"}