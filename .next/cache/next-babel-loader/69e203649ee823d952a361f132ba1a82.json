{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"C:\\\\Users\\\\cauezitto\\\\Documents\\\\projetos\\\\JG\\\\front-end\\\\src\\\\components\\\\FilterAside\\\\index.tsx\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { useState, useEffect } from 'react';\nimport Button from 'components/Button';\nimport Checkbox from 'components/CheckBox';\nimport Heading from 'components/Heading';\nimport xor from 'lodash.xor';\nimport * as S from './styles';\nimport { useRouter } from 'next/router';\n\nconst FilterAside = ({\n  categorias,\n  marcas,\n  mobileShow,\n  onClose,\n  onFilter,\n  initialValues = {},\n  isLoading\n}) => {\n  const {\n    0: values,\n    1: setValues\n  } = useState(initialValues);\n  const {\n    query\n  } = useRouter();\n  const {\n    0: initial_query,\n    1: setInitial_query\n  } = useState(query.nome_contains);\n  useEffect(() => {\n    onFilter(values); // this method comes from another template\n    // that we don't have access\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [values]); // useEffect(() => {\n  //   if (query.nome_contains !== initial_query) {\n  //     const { nome_contains } = query\n  //     // console.log(values)\n  //     setValues({ marca: [], categorias: [], nome_contains })\n  //     setInitial_query(query.nome_contains)\n  //     // console.log('mudou')\n  //   }\n  // }, [query])\n\n  const handleCheckbox = (name, value) => {\n    if (isLoading) {\n      return;\n    }\n\n    const currentList = values[name] || [];\n    const {\n      nome_contains\n    } = query;\n\n    if (nome_contains) {\n      setValues(s => _objectSpread(_objectSpread({}, s), {}, {\n        [name]: xor(currentList, [value]),\n        nome_contains\n      }));\n      return;\n    }\n\n    setValues(s => _objectSpread(_objectSpread({}, s), {}, {\n      [name]: xor(currentList, [value])\n    }));\n  };\n\n  return /*#__PURE__*/_jsxDEV(S.Wrapper, {\n    show: mobileShow,\n    children: [/*#__PURE__*/_jsxDEV(Heading, {\n      role: \"h2\",\n      textAlign: \"left\",\n      fontSize: \"xxlarge\",\n      lineBottom: false,\n      children: \"Categorias\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }, this), categorias.map((categoria, index) => {\n      var _values$categorias;\n\n      return /*#__PURE__*/_jsxDEV(Checkbox, {\n        labelColor: \"black\",\n        color: \"black\",\n        label: categoria.nome,\n        type: \"checkbox\",\n        onCheck: () => handleCheckbox('categorias', categoria.nome),\n        isChecked: (_values$categorias = values['categorias']) === null || _values$categorias === void 0 ? void 0 : _values$categorias.includes(categoria.nome.toLowerCase())\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 9\n      }, this);\n    }), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Heading, {\n      role: \"h2\",\n      textAlign: \"left\",\n      fontSize: \"xxlarge\",\n      lineBottom: false,\n      children: \"Marcas\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 7\n    }, this), marcas.map((marca, index) => {\n      var _values$marca;\n\n      return /*#__PURE__*/_jsxDEV(Checkbox, {\n        labelColor: \"black\",\n        color: \"black\",\n        label: marca.nome,\n        onCheck: () => handleCheckbox('marca', marca.nome),\n        isChecked: (_values$marca = values['marca']) === null || _values$marca === void 0 ? void 0 : _values$marca.includes(marca.nome.toLowerCase())\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 9\n      }, this);\n    }), /*#__PURE__*/_jsxDEV(S.Footer, {\n      children: /*#__PURE__*/_jsxDEV(Button, {\n        fill: \"red100\",\n        fontSize: \"large\",\n        radius: 10,\n        onClick: onClose,\n        children: \"Aplicar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 85,\n    columnNumber: 5\n  }, this);\n};\n\nexport default FilterAside;","map":{"version":3,"sources":["C:/Users/cauezitto/Documents/projetos/JG/front-end/src/components/FilterAside/index.tsx"],"names":["useState","useEffect","Button","Checkbox","Heading","xor","S","useRouter","FilterAside","categorias","marcas","mobileShow","onClose","onFilter","initialValues","isLoading","values","setValues","query","initial_query","setInitial_query","nome_contains","handleCheckbox","name","value","currentList","s","map","categoria","index","nome","includes","toLowerCase","marca"],"mappings":"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","sourcesContent":["import { useState, useEffect } from 'react'\nimport Button from 'components/Button'\nimport Checkbox from 'components/CheckBox'\nimport Heading from 'components/Heading'\nimport { ParsedUrlQueryInput } from 'querystring'\nimport xor from 'lodash.xor'\nimport * as S from './styles'\nimport { useRouter } from 'next/router'\n\ntype Field = {\n  nome: string\n}\n\nexport type ItemProps = {\n  title: string\n  name: string\n  type: string\n  fields: Field[]\n}\n\ntype Values = ParsedUrlQueryInput\n\nexport type FilteredAsidProps = {\n  categorias: Array<{\n    nome: string\n  }>\n  marcas: Array<{\n    nome: string\n  }>\n  mobileShow?: boolean\n  onClose: VoidFunction\n  onFilter: (values: Values) => void\n  initialValues?: Values\n  isLoading?: boolean\n}\n\nconst FilterAside = ({\n  categorias,\n  marcas,\n  mobileShow,\n  onClose,\n  onFilter,\n  initialValues = {},\n  isLoading\n}: FilteredAsidProps) => {\n  const [values, setValues] = useState(initialValues)\n  const { query } = useRouter()\n  const [initial_query, setInitial_query] = useState(query.nome_contains)\n\n  useEffect(() => {\n    onFilter(values)\n    // this method comes from another template\n    // that we don't have access\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [values])\n\n  // useEffect(() => {\n  //   if (query.nome_contains !== initial_query) {\n  //     const { nome_contains } = query\n  //     // console.log(values)\n  //     setValues({ marca: [], categorias: [], nome_contains })\n  //     setInitial_query(query.nome_contains)\n  //     // console.log('mudou')\n  //   }\n  // }, [query])\n\n  const handleCheckbox = (name: string, value: string) => {\n    if (isLoading) {\n      return\n    }\n    const currentList = (values[name] as []) || []\n    const { nome_contains } = query\n    if (nome_contains) {\n      setValues((s) => ({\n        ...s,\n        [name]: xor(currentList, [value]),\n        nome_contains\n      }))\n      return\n    }\n    setValues((s) => ({ ...s, [name]: xor(currentList, [value]) }))\n  }\n\n  return (\n    <S.Wrapper show={mobileShow}>\n      <Heading role=\"h2\" textAlign=\"left\" fontSize=\"xxlarge\" lineBottom={false}>\n        Categorias\n      </Heading>\n\n      {categorias.map((categoria, index) => (\n        <Checkbox\n          key={index}\n          labelColor=\"black\"\n          color=\"black\"\n          label={categoria.nome}\n          type=\"checkbox\"\n          onCheck={() => handleCheckbox('categorias', categoria.nome)}\n          isChecked={(values['categorias'] as string[])?.includes(\n            categoria.nome.toLowerCase()\n          )}\n        />\n      ))}\n      <br />\n      <hr />\n      <br />\n      <Heading role=\"h2\" textAlign=\"left\" fontSize=\"xxlarge\" lineBottom={false}>\n        Marcas\n      </Heading>\n\n      {marcas.map((marca, index) => (\n        <Checkbox\n          key={index}\n          labelColor=\"black\"\n          color=\"black\"\n          label={marca.nome}\n          onCheck={() => handleCheckbox('marca', marca.nome)}\n          isChecked={(values['marca'] as string[])?.includes(\n            marca.nome.toLowerCase()\n          )}\n        />\n      ))}\n\n      <S.Footer>\n        {/* <Button fill=\"gray300\" fontSize=\"large\" radius={10} onClick={onClose}>\n          Fechar\n        </Button>\n        &nbsp; */}\n        <Button fill=\"red100\" fontSize=\"large\" radius={10} onClick={onClose}>\n          Aplicar\n        </Button>\n      </S.Footer>\n    </S.Wrapper>\n  )\n}\n\nexport default FilterAside\n"]},"metadata":{},"sourceType":"module"}