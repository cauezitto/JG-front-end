{"ast":null,"code":"import { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport * as S from './styles';\nimport Button from 'components/Button';\nimport Heading from 'components/Heading';\nimport Paragraph from 'components/Paragraph';\nimport { CgCloseR } from 'react-icons/cg';\nimport { FiXCircle, FiCheckCircle } from 'react-icons/fi';\nimport { FcCancel } from 'react-icons/fc';\nimport { useState } from 'react';\nimport api from 'services/api';\nimport { useCookies } from 'react-cookie';\n\nconst FriendsList = props => {\n  const [cookie, setCookie] = useCookies(['user']);\n  const {\n    amigos = {\n      autorizados: [],\n      pendentes: []\n    }\n  } = props;\n  const {\n    0: pendentes,\n    1: setPendentes\n  } = useState(amigos ? amigos.pendentes : []);\n  const {\n    0: autorizados,\n    1: setAutorizados\n  } = useState(amigos ? amigos.autorizados : []);\n\n  const add = amigo => {\n    setPendentes(pendentes.filter(user => user.id !== amigo.id));\n    setAutorizados([...autorizados, amigo]);\n  };\n\n  const erase = amigo => {\n    setPendentes(pendentes.filter(user => user.id !== amigo.id));\n    setAutorizados(autorizados.filter(user => user.id !== amigo.id));\n  };\n\n  const save = async () => {\n    const data = {\n      amigos: {\n        autorizados,\n        pendentes\n      }\n    };\n    await api.put('/favoritos', data, {\n      headers: {\n        Authorization: `Bearer ${cookie.token}`\n      }\n    }).then(() => {\n      if (props.onClose) {\n        props.onClose();\n      }\n    });\n  };\n\n  return /*#__PURE__*/_jsxs(S.Wrapper, {\n    children: [/*#__PURE__*/_jsx(\"div\", {\n      className: \"close\",\n      onClick: props.onClose,\n      children: /*#__PURE__*/_jsx(CgCloseR, {})\n    }), /*#__PURE__*/_jsx(Heading, {\n      font: \"ubuntu\",\n      fontWeight: \"semiBold\",\n      fontSize: \"xlarge\",\n      textAlign: \"center\",\n      justify: \"center\",\n      color: \"black\",\n      role: \"h3\",\n      lineBottom: false,\n      children: \"Acessos a sua lista de favoritos\"\n    }), pendentes[0] && /*#__PURE__*/_jsxs(S.List, {\n      children: [/*#__PURE__*/_jsx(Heading, {\n        color: \"red100\",\n        fontWeight: \"semiBold\",\n        fontSize: \"xlarge\",\n        font: \"ubuntu\",\n        margin: \"10px 0\",\n        lineBottom: false,\n        role: \"h4\",\n        children: \"Pendentes\"\n      }), pendentes.map(amigo => /*#__PURE__*/_jsxs(S.Item, {\n        children: [/*#__PURE__*/_jsx(S.Photo, {\n          photo: amigo.photo\n        }), /*#__PURE__*/_jsx(\"div\", {\n          className: \"nome\",\n          children: /*#__PURE__*/_jsx(Paragraph, {\n            color: \"black\",\n            fontSize: \"large\",\n            font: \"ubuntu\",\n            fontWeight: \"semiBold\",\n            children: amigo.username.split(' ')[0]\n          })\n        }), /*#__PURE__*/_jsxs(\"div\", {\n          className: \"actions\",\n          children: [/*#__PURE__*/_jsx(FiXCircle, {\n            color: \"red\",\n            size: 20,\n            onClick: () => {\n              erase(amigo);\n            }\n          }), /*#__PURE__*/_jsx(FiCheckCircle, {\n            color: \"green\",\n            size: 20,\n            onClick: () => {\n              add(amigo);\n            }\n          })]\n        })]\n      }, amigo.email))]\n    }), autorizados[0] && /*#__PURE__*/_jsxs(S.List, {\n      children: [/*#__PURE__*/_jsx(Heading, {\n        color: \"brown\",\n        fontWeight: \"semiBold\",\n        fontSize: \"xlarge\",\n        font: \"ubuntu\",\n        lineBottom: false,\n        role: \"h3\",\n        children: \"Acesso confirmado\"\n      }), autorizados.map(amigo => /*#__PURE__*/_jsxs(S.Item, {\n        children: [/*#__PURE__*/_jsx(S.Photo, {\n          photo: amigo.photo\n        }), /*#__PURE__*/_jsx(\"div\", {\n          className: \"nome\",\n          children: /*#__PURE__*/_jsx(Paragraph, {\n            color: \"black\",\n            fontSize: \"large\",\n            font: \"ubuntu\",\n            fontWeight: \"semiBold\",\n            children: amigo.username.split(' ')[0]\n          })\n        }), /*#__PURE__*/_jsx(\"div\", {\n          className: \"actions\",\n          children: /*#__PURE__*/_jsx(FcCancel, {\n            color: \"red\",\n            size: 20,\n            onClick: () => {\n              erase(amigo);\n            }\n          })\n        })]\n      }, amigo.email))]\n    }), /*#__PURE__*/_jsxs(\"div\", {\n      className: \"options\",\n      children: [/*#__PURE__*/_jsx(Button, {\n        onClick: props.onClose,\n        fontSize: \"large\",\n        fill: \"gray300\",\n        children: \"Fechar\"\n      }), /*#__PURE__*/_jsx(Button, {\n        onClick: save,\n        fontSize: \"large\",\n        fill: \"red100\",\n        children: \"Salvar\"\n      })]\n    })]\n  });\n};\n\nexport default FriendsList;","map":null,"metadata":{},"sourceType":"module"}