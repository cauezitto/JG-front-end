{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"C:\\\\Users\\\\cauezitto\\\\Documents\\\\projetos\\\\JG\\\\front-end\\\\src\\\\pages\\\\dashboard\\\\pedidos.tsx\";\nimport Dashboard from 'templates/dashboard';\nimport Link from 'next/link';\nimport Container from 'styles/pages/dashboard/Pedidos';\nimport Heading from 'components/Heading';\nimport ShadowBox from 'components/ShadowBox';\nimport Paragraph from 'components/Paragraph';\nimport { HiOutlineArrowRight } from 'react-icons/hi';\nimport api from 'services/api';\nimport { parseCookies } from 'helpers';\nimport handlePrice from 'utils/handlePrice'; // import orders from 'mocks/orders.json'\n\nexport const getServerSideProps = async ({\n  req\n}) => {\n  const cookies = parseCookies(req);\n  let orders = [];\n  let error = false;\n\n  if (!cookies.token) {\n    console.log('redirecionado');\n    return {\n      redirect: {\n        destination: '/login',\n        permanent: false\n      }\n    };\n  }\n\n  await api.get('/pedido', {\n    headers: {\n      Authorization: `Bearer ${cookies.token}`\n    }\n  }).then(response => {\n    const {\n      data\n    } = response;\n    orders = data;\n  }).catch(err => {\n    console.log(err);\n    error = true;\n  });\n\n  if (error) {\n    return {\n      redirect: {\n        destination: '/login',\n        permanent: false\n      }\n    };\n  }\n\n  console.log(orders);\n  return {\n    props: {\n      orders\n    } // will be passed to the page component as props\n\n  };\n};\n\nconst Pedidos = ({\n  orders\n}) => {\n  return /*#__PURE__*/_jsxDEV(Dashboard, {\n    children: /*#__PURE__*/_jsxDEV(Container, {\n      children: [/*#__PURE__*/_jsxDEV(Heading, {\n        color: \"brown\",\n        fontSize: \"xxmax\",\n        justify: \"center\",\n        fontWeight: \"semiBold\",\n        lineBottom: false,\n        margin: \"0\",\n        children: \"Meus Pedidos\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Paragraph, {\n        margin: \"20px 0\",\n        textAlign: \"center\",\n        fontSize: \"extra\",\n        children: \"Acesse seu pedidos logo abaixo\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"orders\",\n        children: orders.map((order, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"order-wrapper\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: `state ${order.status === 'aprovado' ? 'green' : order.status === 'pendente' ? 'yellow' : 'red'}`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(ShadowBox, {\n            className: \"order\",\n            radius: \"large\",\n            height: 120,\n            paddingX: \"medium\",\n            paddingY: \"small\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"cod\",\n              children: /*#__PURE__*/_jsxDEV(Paragraph, {\n                fontWeight: \"semiBold\",\n                fontSize: \"large\",\n                font: \"ubuntu\",\n                color: \"black\",\n                children: [\"#\", order.id]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 107,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 106,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `status item color-${order.status === 'aprovado' ? 'green' : order.status === 'pendente' ? 'yellow' : 'red'}`,\n              children: [\"Status : \", order.status]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 116,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"price\",\n              children: /*#__PURE__*/_jsxDEV(Heading, {\n                margin: \"0\",\n                color: \"black\",\n                font: \"ubuntu\",\n                fontSize: \"xlarge\",\n                lineBottom: false,\n                textAlign: \"left\",\n                role: \"h4\",\n                children: handlePrice.priceNumberToReadblePrice(order.total)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 128,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 127,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"link item\",\n              children: /*#__PURE__*/_jsxDEV(Link, {\n                href: `/dashboard/pedido/${order.id}`,\n                passHref: true,\n                children: /*#__PURE__*/_jsxDEV(\"a\", {\n                  children: /*#__PURE__*/_jsxDEV(Paragraph, {\n                    fontSize: \"large\",\n                    font: \"ubuntu\",\n                    fontWeight: \"semiBold\",\n                    color: \"black\",\n                    children: ['Conferir', \" \\xA0 \", /*#__PURE__*/_jsxDEV(HiOutlineArrowRight, {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 149,\n                      columnNumber: 45\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 143,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 142,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 141,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 140,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 15\n          }, this)]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 70,\n    columnNumber: 5\n  }, this);\n};\n\nexport default Pedidos;","map":{"version":3,"sources":["C:/Users/cauezitto/Documents/projetos/JG/front-end/src/pages/dashboard/pedidos.tsx"],"names":["Dashboard","Link","Container","Heading","ShadowBox","Paragraph","HiOutlineArrowRight","api","parseCookies","handlePrice","getServerSideProps","req","cookies","orders","error","token","console","log","redirect","destination","permanent","get","headers","Authorization","then","response","data","catch","err","props","Pedidos","map","order","index","status","id","priceNumberToReadblePrice","total"],"mappings":";;AAAA,OAAOA,SAAP,MAAsB,qBAAtB;AACA,OAAOC,IAAP,MAAiB,WAAjB;AACA,OAAOC,SAAP,MAAsB,gCAAtB;AACA,OAAOC,OAAP,MAAoB,oBAApB;AACA,OAAOC,SAAP,MAAsB,sBAAtB;AACA,OAAOC,SAAP,MAAsB,sBAAtB;AACA,SAASC,mBAAT,QAAoC,gBAApC;AACA,OAAOC,GAAP,MAAgB,cAAhB;AAEA,SAASC,YAAT,QAA6B,SAA7B;AACA,OAAOC,WAAP,MAAwB,mBAAxB,C,CACA;;AAWA,OAAO,MAAMC,kBAAsC,GAAG,OAAO;AAAEC,EAAAA;AAAF,CAAP,KAAmB;AACvE,QAAMC,OAAO,GAAGJ,YAAY,CAACG,GAAD,CAA5B;AACA,MAAIE,MAAM,GAAG,EAAb;AACA,MAAIC,KAAK,GAAG,KAAZ;;AAEA,MAAI,CAACF,OAAO,CAACG,KAAb,EAAoB;AAClBC,IAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ;AACA,WAAO;AACLC,MAAAA,QAAQ,EAAE;AACRC,QAAAA,WAAW,EAAE,QADL;AAERC,QAAAA,SAAS,EAAE;AAFH;AADL,KAAP;AAMD;;AAED,QAAMb,GAAG,CACNc,GADG,CACC,SADD,EACY;AACdC,IAAAA,OAAO,EAAE;AACPC,MAAAA,aAAa,EAAG,UAASX,OAAO,CAACG,KAAM;AADhC;AADK,GADZ,EAMHS,IANG,CAMGC,QAAD,IAAc;AAClB,UAAM;AAAEC,MAAAA;AAAF,QAAWD,QAAjB;AACAZ,IAAAA,MAAM,GAAGa,IAAT;AACD,GATG,EAUHC,KAVG,CAUIC,GAAD,IAAS;AACdZ,IAAAA,OAAO,CAACC,GAAR,CAAYW,GAAZ;AACAd,IAAAA,KAAK,GAAG,IAAR;AACD,GAbG,CAAN;;AAeA,MAAIA,KAAJ,EAAW;AACT,WAAO;AACLI,MAAAA,QAAQ,EAAE;AACRC,QAAAA,WAAW,EAAE,QADL;AAERC,QAAAA,SAAS,EAAE;AAFH;AADL,KAAP;AAMD;;AAEDJ,EAAAA,OAAO,CAACC,GAAR,CAAYJ,MAAZ;AACA,SAAO;AACLgB,IAAAA,KAAK,EAAE;AAAEhB,MAAAA;AAAF,KADF,CACsB;;AADtB,GAAP;AAGD,CA3CM;;AA6CP,MAAMiB,OAAO,GAAG,CAAC;AAAEjB,EAAAA;AAAF,CAAD,KAAuB;AACrC,sBACE,QAAC,SAAD;AAAA,2BACE,QAAC,SAAD;AAAA,8BACE,QAAC,OAAD;AACE,QAAA,KAAK,EAAC,OADR;AAEE,QAAA,QAAQ,EAAC,OAFX;AAGE,QAAA,OAAO,EAAC,QAHV;AAIE,QAAA,UAAU,EAAC,UAJb;AAKE,QAAA,UAAU,EAAE,KALd;AAME,QAAA,MAAM,EAAC,GANT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,eAYE,QAAC,SAAD;AAAW,QAAA,MAAM,EAAC,QAAlB;AAA2B,QAAA,SAAS,EAAC,QAArC;AAA8C,QAAA,QAAQ,EAAC,OAAvD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAZF,eAgBE;AAAK,QAAA,SAAS,EAAC,QAAf;AAAA,kBACGA,MAAM,CAACkB,GAAP,CAAW,CAACC,KAAD,EAAQC,KAAR,kBACV;AAAK,UAAA,SAAS,EAAC,eAAf;AAAA,kCACE;AACE,YAAA,SAAS,EAAG,SACVD,KAAK,CAACE,MAAN,KAAiB,UAAjB,GACI,OADJ,GAEIF,KAAK,CAACE,MAAN,KAAiB,UAAjB,GACA,QADA,GAEA,KACL;AAPH;AAAA;AAAA;AAAA;AAAA,kBADF,eAUE,QAAC,SAAD;AACE,YAAA,SAAS,EAAC,OADZ;AAEE,YAAA,MAAM,EAAC,OAFT;AAGE,YAAA,MAAM,EAAE,GAHV;AAIE,YAAA,QAAQ,EAAC,QAJX;AAKE,YAAA,QAAQ,EAAC,OALX;AAAA,oCAOE;AAAK,cAAA,SAAS,EAAC,KAAf;AAAA,qCACE,QAAC,SAAD;AACE,gBAAA,UAAU,EAAC,UADb;AAEE,gBAAA,QAAQ,EAAC,OAFX;AAGE,gBAAA,IAAI,EAAC,QAHP;AAIE,gBAAA,KAAK,EAAC,OAJR;AAAA,gCAMIF,KAAK,CAACG,EANV;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,oBAPF,eAiBE;AACE,cAAA,SAAS,EAAG,qBACVH,KAAK,CAACE,MAAN,KAAiB,UAAjB,GACI,OADJ,GAEIF,KAAK,CAACE,MAAN,KAAiB,UAAjB,GACA,QADA,GAEA,KACL,EAPH;AAAA,sCASYF,KAAK,CAACE,MATlB;AAAA;AAAA;AAAA;AAAA;AAAA,oBAjBF,eA4BE;AAAK,cAAA,SAAS,EAAC,OAAf;AAAA,qCACE,QAAC,OAAD;AACE,gBAAA,MAAM,EAAC,GADT;AAEE,gBAAA,KAAK,EAAC,OAFR;AAGE,gBAAA,IAAI,EAAC,QAHP;AAIE,gBAAA,QAAQ,EAAC,QAJX;AAKE,gBAAA,UAAU,EAAE,KALd;AAME,gBAAA,SAAS,EAAC,MANZ;AAOE,gBAAA,IAAI,EAAC,IAPP;AAAA,0BASGzB,WAAW,CAAC2B,yBAAZ,CAAsCJ,KAAK,CAACK,KAA5C;AATH;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,oBA5BF,eAyCE;AAAK,cAAA,SAAS,EAAC,WAAf;AAAA,qCACE,QAAC,IAAD;AAAM,gBAAA,IAAI,EAAG,qBAAoBL,KAAK,CAACG,EAAG,EAA1C;AAA6C,gBAAA,QAAQ,MAArD;AAAA,uCACE;AAAA,yCACE,QAAC,SAAD;AACE,oBAAA,QAAQ,EAAC,OADX;AAEE,oBAAA,IAAI,EAAC,QAFP;AAGE,oBAAA,UAAU,EAAC,UAHb;AAIE,oBAAA,KAAK,EAAC,OAJR;AAAA,+BAMG,UANH,yBAMsB,QAAC,mBAAD;AAAA;AAAA;AAAA;AAAA,4BANtB;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,oBAzCF;AAAA;AAAA;AAAA;AAAA;AAAA,kBAVF;AAAA,WAAoCF,KAApC;AAAA;AAAA;AAAA;AAAA,gBADD;AADH;AAAA;AAAA;AAAA;AAAA,cAhBF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,UADF;AA4FD,CA7FD;;AA+FA,eAAeH,OAAf","sourcesContent":["import Dashboard from 'templates/dashboard'\nimport Link from 'next/link'\nimport Container from 'styles/pages/dashboard/Pedidos'\nimport Heading from 'components/Heading'\nimport ShadowBox from 'components/ShadowBox'\nimport Paragraph from 'components/Paragraph'\nimport { HiOutlineArrowRight } from 'react-icons/hi'\nimport api from 'services/api'\nimport { GetServerSideProps } from 'next'\nimport { parseCookies } from 'helpers'\nimport handlePrice from 'utils/handlePrice'\n// import orders from 'mocks/orders.json'\n\ntype Orders = Array<{\n  id: number\n  status: string\n  total: number\n}>\ntype Props = {\n  orders: Orders\n}\n\nexport const getServerSideProps: GetServerSideProps = async ({ req }) => {\n  const cookies = parseCookies(req)\n  let orders = [] as Orders\n  let error = false\n\n  if (!cookies.token) {\n    console.log('redirecionado')\n    return {\n      redirect: {\n        destination: '/login',\n        permanent: false\n      }\n    }\n  }\n\n  await api\n    .get('/pedido', {\n      headers: {\n        Authorization: `Bearer ${cookies.token}`\n      }\n    })\n    .then((response) => {\n      const { data } = response\n      orders = data\n    })\n    .catch((err) => {\n      console.log(err)\n      error = true\n    })\n\n  if (error) {\n    return {\n      redirect: {\n        destination: '/login',\n        permanent: false\n      }\n    }\n  }\n\n  console.log(orders)\n  return {\n    props: { orders } as Props // will be passed to the page component as props\n  }\n}\n\nconst Pedidos = ({ orders }: Props) => {\n  return (\n    <Dashboard>\n      <Container>\n        <Heading\n          color=\"brown\"\n          fontSize=\"xxmax\"\n          justify=\"center\"\n          fontWeight=\"semiBold\"\n          lineBottom={false}\n          margin=\"0\"\n        >\n          Meus Pedidos\n        </Heading>\n\n        <Paragraph margin=\"20px 0\" textAlign=\"center\" fontSize=\"extra\">\n          Acesse seu pedidos logo abaixo\n        </Paragraph>\n\n        <div className=\"orders\">\n          {orders.map((order, index) => (\n            <div className=\"order-wrapper\" key={index}>\n              <div\n                className={`state ${\n                  order.status === 'aprovado'\n                    ? 'green'\n                    : order.status === 'pendente'\n                    ? 'yellow'\n                    : 'red'\n                }`}\n              />\n              <ShadowBox\n                className=\"order\"\n                radius=\"large\"\n                height={120}\n                paddingX=\"medium\"\n                paddingY=\"small\"\n              >\n                <div className=\"cod\">\n                  <Paragraph\n                    fontWeight=\"semiBold\"\n                    fontSize=\"large\"\n                    font=\"ubuntu\"\n                    color=\"black\"\n                  >\n                    #{order.id}\n                  </Paragraph>\n                </div>\n                <div\n                  className={`status item color-${\n                    order.status === 'aprovado'\n                      ? 'green'\n                      : order.status === 'pendente'\n                      ? 'yellow'\n                      : 'red'\n                  }`}\n                >\n                  Status : {order.status}\n                </div>\n                <div className=\"price\">\n                  <Heading\n                    margin=\"0\"\n                    color=\"black\"\n                    font=\"ubuntu\"\n                    fontSize=\"xlarge\"\n                    lineBottom={false}\n                    textAlign=\"left\"\n                    role=\"h4\"\n                  >\n                    {handlePrice.priceNumberToReadblePrice(order.total)}\n                  </Heading>\n                </div>\n                <div className=\"link item\">\n                  <Link href={`/dashboard/pedido/${order.id}`} passHref>\n                    <a>\n                      <Paragraph\n                        fontSize=\"large\"\n                        font=\"ubuntu\"\n                        fontWeight=\"semiBold\"\n                        color=\"black\"\n                      >\n                        {'Conferir'} &nbsp; <HiOutlineArrowRight />\n                      </Paragraph>\n                    </a>\n                  </Link>\n                </div>\n              </ShadowBox>\n            </div>\n          ))}\n        </div>\n      </Container>\n    </Dashboard>\n  )\n}\n\nexport default Pedidos\n"]},"metadata":{},"sourceType":"module"}