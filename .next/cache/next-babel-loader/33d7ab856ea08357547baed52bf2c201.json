{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\cauezitto\\\\Documents\\\\projetos\\\\JG\\\\front-end\\\\src\\\\components\\\\ProductCard\\\\index.tsx\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport * as S from './styles';\nimport Link from 'next/link';\nimport priceHandler from 'utils/handlePrice';\nimport { FiHeart } from 'react-icons/fi';\nimport { FaHeart } from 'react-icons/fa';\nimport { useCookies } from 'react-cookie';\nimport { useState, useEffect } from 'react';\n\nvar ProductCard = function ProductCard(_ref) {\n  _s();\n\n  var id = _ref.id,\n      name = _ref.name,\n      image = _ref.image,\n      price = _ref.price,\n      slug = _ref.slug;\n\n  var _useCookies = useCookies(['user']),\n      _useCookies2 = _slicedToArray(_useCookies, 1),\n      cookie = _useCookies2[0];\n\n  var _useState = useState(false),\n      isFavorite = _useState[0],\n      setIsFavorite = _useState[1];\n\n  var checkIsFavorite = function checkIsFavorite() {\n    if (!cookie.token) {\n      return;\n    }\n\n    if (!cookie.user) {\n      return;\n    }\n\n    var favorites = cookie.user.favorites;\n\n    if (!favorites) {\n      return;\n    }\n\n    favorites.map(function (productId) {\n      if (productId == id) {\n        setIsFavorite(true);\n      }\n    });\n  };\n\n  useEffect(function () {\n    checkIsFavorite();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(Link, {\n    href: \"/produto/\".concat(slug),\n    passHref: true,\n    children: /*#__PURE__*/_jsxDEV(S.Wrapper, {\n      children: [/*#__PURE__*/_jsxDEV(S.favoriteWrapper, {\n        children: isFavorite ? /*#__PURE__*/_jsxDEV(FaHeart, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 25\n        }, _this) : /*#__PURE__*/_jsxDEV(FiHeart, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 39\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(S.ImageWrapper, {\n        children: /*#__PURE__*/_jsxDEV(S.Image, {\n          src: image,\n          alt: name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 11\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(S.InfoWrapper, {\n        children: [/*#__PURE__*/_jsxDEV(S.ProductTitle, {\n          children: name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(S.ProductPrice, {\n          children: priceHandler.priceNumberToReadblePrice(price ? price : 0)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(S.Installments, {\n          children: \"Ou ent\\xE3o 3x de \".concat(priceHandler.priceNumberToReadblePrice((price ? price : 0) / 3))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"cart-button\",\n          children: /*#__PURE__*/_jsxDEV(S.CartButton, {\n            role: \"button\",\n            children: \"ADD CARRINHO\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 13\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 11\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, _this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 5\n  }, _this);\n};\n\n_s(ProductCard, \"pSrOiPyZAQZZkK8oliBUTEGS9no=\", false, function () {\n  return [useCookies];\n});\n\n_c = ProductCard;\nexport default ProductCard;\n\nvar _c;\n\n$RefreshReg$(_c, \"ProductCard\");","map":{"version":3,"sources":["C:/Users/cauezitto/Documents/projetos/JG/front-end/src/components/ProductCard/index.tsx"],"names":["S","Link","priceHandler","FiHeart","FaHeart","useCookies","useState","useEffect","ProductCard","id","name","image","price","slug","cookie","isFavorite","setIsFavorite","checkIsFavorite","token","user","favorites","map","productId","priceNumberToReadblePrice"],"mappings":"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","sourcesContent":["import * as S from './styles'\nimport Link from 'next/link'\nimport priceHandler from 'utils/handlePrice'\nimport { FiHeart } from 'react-icons/fi'\nimport { FaHeart } from 'react-icons/fa'\nimport { useCookies } from 'react-cookie'\nimport { useState, useEffect } from 'react'\n\nexport type ProductProps = {\n  id: number\n  image: string\n  name: string\n  price: number\n  slug: string\n  isFavorite?: boolean\n}\n\nconst ProductCard = ({ id, name, image, price, slug }: ProductProps) => {\n  const [cookie] = useCookies(['user'])\n  const [isFavorite, setIsFavorite] = useState(false)\n\n  const checkIsFavorite = () => {\n    if (!cookie.token) {\n      return\n    }\n\n    if (!cookie.user) {\n      return\n    }\n\n    const { favorites } = cookie.user\n\n    if (!favorites) {\n      return\n    }\n\n    favorites.map((productId: number) => {\n      if (productId == id) {\n        setIsFavorite(true)\n      }\n    })\n  }\n\n  useEffect(() => {\n    checkIsFavorite()\n  }, [])\n\n  return (\n    <Link href={`/produto/${slug}`} passHref>\n      <S.Wrapper>\n        <S.favoriteWrapper>\n          {isFavorite ? <FaHeart /> : <FiHeart />}\n        </S.favoriteWrapper>\n        <S.ImageWrapper>\n          <S.Image src={image} alt={name} />\n        </S.ImageWrapper>\n        <S.InfoWrapper>\n          <S.ProductTitle>{name}</S.ProductTitle>\n          <S.ProductPrice>\n            {priceHandler.priceNumberToReadblePrice(price ? price : 0)}\n          </S.ProductPrice>\n          <S.Installments>{`Ou ent√£o 3x de ${priceHandler.priceNumberToReadblePrice(\n            (price ? price : 0) / 3\n          )}`}</S.Installments>\n          <div className=\"cart-button\">\n            <S.CartButton role=\"button\">ADD CARRINHO</S.CartButton>\n          </div>\n        </S.InfoWrapper>\n      </S.Wrapper>\n    </Link>\n  )\n}\n\nexport default ProductCard\n"]},"metadata":{},"sourceType":"module"}