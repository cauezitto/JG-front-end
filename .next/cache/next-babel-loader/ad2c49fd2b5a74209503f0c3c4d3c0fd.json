{"ast":null,"code":"import { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { useState, useEffect } from 'react';\nimport Button from 'components/Button';\nimport Checkbox from 'components/CheckBox';\nimport Heading from 'components/Heading';\nimport xor from 'lodash.xor';\nimport * as S from './styles'; // import { useRouter } from 'next/router'\n\nconst FilterAside = ({\n  categorias,\n  marcas,\n  mobileShow,\n  onClose,\n  onFilter,\n  initialValues = {},\n  isLoading\n}) => {\n  const {\n    0: values,\n    1: setValues\n  } = useState(initialValues); // const { query } = useRouter()\n  // console.log(values)\n\n  useEffect(() => {\n    // console.log(values)\n    onFilter(values); // this method comes from another template\n    // that we don't have access\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [values]); // useEffect(() => {\n  //   if (query.nome_contains !== initial_query) {\n  //     const { nome_contains } = query\n  //     // console.log(values)\n  //     setValues({ marca: [], categorias: [], nome_contains })\n  //     setInitial_query(query.nome_contains)\n  //     // console.log('mudou')\n  //   }\n  // }, [query])\n\n  const handleCheckbox = (name, value) => {\n    if (isLoading) {\n      return;\n    }\n\n    const currentList = values[name] || [];\n    setValues(s => _objectSpread(_objectSpread({}, s), {}, {\n      [name]: xor(currentList, [value])\n    }));\n  };\n\n  return /*#__PURE__*/_jsxs(S.Wrapper, {\n    show: mobileShow,\n    children: [/*#__PURE__*/_jsx(Heading, {\n      role: \"h2\",\n      textAlign: \"left\",\n      fontSize: \"xxlarge\",\n      lineBottom: false,\n      children: \"Categorias\"\n    }), categorias.map((categoria, index) => {\n      var _values$categorias;\n\n      return /*#__PURE__*/_jsx(Checkbox, {\n        labelColor: \"black\",\n        color: \"black\",\n        label: categoria.nome,\n        type: \"checkbox\",\n        onCheck: () => handleCheckbox('categorias', categoria.nome),\n        isChecked: (_values$categorias = values['categorias']) === null || _values$categorias === void 0 ? void 0 : _values$categorias.includes(categoria.nome)\n      }, index);\n    }), /*#__PURE__*/_jsx(\"br\", {}), /*#__PURE__*/_jsx(\"hr\", {}), /*#__PURE__*/_jsx(\"br\", {}), /*#__PURE__*/_jsx(Heading, {\n      role: \"h2\",\n      textAlign: \"left\",\n      fontSize: \"xxlarge\",\n      lineBottom: false,\n      children: \"Marcas\"\n    }), marcas.map((marca, index) => {\n      var _values$marca;\n\n      return /*#__PURE__*/_jsx(Checkbox, {\n        labelColor: \"black\",\n        color: \"black\",\n        label: marca.nome,\n        onCheck: () => handleCheckbox('marca', marca.nome),\n        isChecked: (_values$marca = values['marca']) === null || _values$marca === void 0 ? void 0 : _values$marca.includes(marca.nome)\n      }, index);\n    }), /*#__PURE__*/_jsx(S.Footer, {\n      children: /*#__PURE__*/_jsx(Button, {\n        fill: \"red100\",\n        fontSize: \"large\",\n        radius: 10,\n        onClick: onClose,\n        children: \"Aplicar\"\n      })\n    })]\n  });\n};\n\nexport default FilterAside;","map":null,"metadata":{},"sourceType":"module"}